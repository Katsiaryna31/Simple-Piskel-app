!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=33)}([function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)a(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,a){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),a);else for(var i=0;i<r;i++)e[a+i]=t[n+i]},flattenChunks:function(e){var t,n,r,a,i,o;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),a=0,t=0,n=e.length;t<n;t++)i=e[t],o.set(i,a),a+=i.length;return o}},o={arraySet:function(e,t,n,r,a){for(var i=0;i<r;i++)e[a+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(r)},function(e,t,n){var r,a,i;a=[],void 0===(i="function"==typeof(r=function(){return function e(t,n,r){var a,i,o=window,s="application/octet-stream",l=r||s,c=t,u=!n&&!r&&c,f=document.createElement("a"),d=function(e){return String(e)},h=o.Blob||o.MozBlob||o.WebKitBlob||d,m=n||"download";if(h=h.call?h.bind(o):Blob,"true"===String(this)&&(l=(c=[c,l])[0],c=c[1]),u&&u.length<2048&&(m=u.split("/").pop().split("?")[0],f.href=u,-1!==f.href.indexOf(u))){var v=new XMLHttpRequest;return v.open("GET",u,!0),v.responseType="blob",v.onload=function(t){e(t.target.response,m,s)},setTimeout((function(){v.send()}),0),v}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424&&h!==d))return navigator.msSaveBlob?navigator.msSaveBlob(w(c),m):b(c);l=(c=w(c)).type||s}else if(/([\x80-\xff])/.test(c)){for(var p=0,g=new Uint8Array(c.length),_=g.length;p<_;++p)g[p]=c.charCodeAt(p);c=new h([g],{type:l})}function w(e){for(var t=e.split(/[:;,]/),n=t[1],r=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),a=r.length,i=0,o=new Uint8Array(a);i<a;++i)o[i]=r.charCodeAt(i);return new h([o],{type:n})}function b(e,t){if("download"in f)return f.href=e,f.setAttribute("download",m),f.className="download-js-link",f.innerHTML="downloading...",f.style.display="none",document.body.appendChild(f),setTimeout((function(){f.click(),document.body.removeChild(f),!0===t&&setTimeout((function(){o.URL.revokeObjectURL(f.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),n.src=e,setTimeout((function(){document.body.removeChild(n)}),333)}if(a=c instanceof h?c:new h([c],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(a,m);if(o.URL)b(o.URL.createObjectURL(a),!0);else{if("string"==typeof a||a.constructor===d)try{return b("data:"+l+";base64,"+o.btoa(a))}catch(e){return b("data:"+l+","+encodeURIComponent(a))}(i=new FileReader).onload=function(e){b(this.result)},i.readAsDataURL(a)}return!0}})?r.apply(t,a):r)||(e.exports=i)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){e.exports=n(14)},function(e,t,n){"use strict";var r,a={},i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}();function s(e,t){for(var n=[],r={},a=0;a<e.length;a++){var i=e[a],o=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[o]?r[o].parts.push(s):n.push(r[o]={id:o,parts:[s]})}return n}function l(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=a[r.id],o=0;if(i){for(i.refs++;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(p(r.parts[o],t))}else{for(var s=[];o<r.parts.length;o++)s.push(p(r.parts[o],t));a[r.id]={id:r.id,refs:1,parts:s}}}}function c(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var r=n.nc;r&&(e.attributes.nonce=r)}if(Object.keys(e.attributes).forEach((function(n){t.setAttribute(n,e.attributes[n])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,f=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,n,r){var a=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=f(t,a);else{var i=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function h(e,t,n){var r=n.css,a=n.media,i=n.sourceMap;if(a&&e.setAttribute("media",a),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var m=null,v=0;function p(e,t){var n,r,a;if(t.singleton){var i=v++;n=m||(m=c(t)),r=d.bind(null,n,i,!1),a=d.bind(null,n,i,!0)}else n=c(t),r=h.bind(null,n,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=s(e,t);return l(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var o=n[i],c=a[o.id];c&&(c.refs--,r.push(c))}e&&l(s(e,t),t);for(var u=0;u<r.length;u++){var f=r[u];if(0===f.refs){for(var d=0;d<f.parts.length;d++)f.parts[d]();delete a[f.id]}}}}},function(e,t){var n,r,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l,c=[],u=!1,f=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):f=-1,c.length&&h())}function h(){if(!u){var e=s(d);u=!0;for(var t=c.length;t;){for(l=c,c=[];++f<t;)l&&l[f].run();f=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function v(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||u||s(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var a=65535&e|0,i=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{i=i+(a=a+t[r++]|0)|0}while(--o);a%=65521,i%=65521}return a|i<<16|0}},function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,a){var i=r,o=a+n;e^=-1;for(var s=a;s<o;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}},function(e,t,n){"use strict";var r=n(0),a=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(e){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){i=!1}for(var o=new r.Buf8(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&i||!e.subarray&&a))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,t.string2buf=function(e){var t,n,a,i,o,s=e.length,l=0;for(i=0;i<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(a=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(a-56320),i++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),o=0,i=0;o<l;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(a=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(a-56320),i++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,a=t.length;n<a;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,a,i,s=t||e.length,c=new Array(2*s);for(r=0,n=0;n<s;)if((a=e[n++])<128)c[r++]=a;else if((i=o[a])>4)c[r++]=65533,n+=i-1;else{for(a&=2===i?31:3===i?15:7;i>1&&n<s;)a=a<<6|63&e[n++],i--;i>1?c[r++]=65533:a<65536?c[r++]=a:(a-=65536,c[r++]=55296|a>>10&1023,c[r++]=56320|1023&a)}return l(c,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+o[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){(function(t,n){var r;e.exports=function e(t,n,a){function i(s,l){if(!n[s]){if(!t[s]){if(!l&&"function"==typeof r&&r)return r(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,(function(e){var n=t[s][1][e];return i(n||e)}),u,u.exports,e,t,n,a)}return n[s].exports}for(var o="function"==typeof r&&r,s=0;s<a.length;s++)i(a[s]);return i}({1:[function(e,t,n){"use strict";var r={},a="(?:^|\\s)",i="(?:\\s|$)";function o(e){var t=r[e];return t?t.lastIndex=0:r[e]=t=new RegExp(a+e+i,"g"),t}t.exports={add:function(e,t){var n=e.className;n.length?o(t).test(n)||(e.className+=" "+t):e.className=t},rm:function(e,t){e.className=e.className.replace(o(t)," ").trim()}}},{}],2:[function(e,n,r){(function(t){"use strict";var r=e("contra/emitter"),a=e("crossvent"),i=e("./classes"),o=document,s=o.documentElement;function l(e,n,r,i){t.navigator.pointerEnabled?a[n](e,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[r],i):t.navigator.msPointerEnabled?a[n](e,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[r],i):(a[n](e,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[r],i),a[n](e,r,i))}function c(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var t=e.button;return void 0!==t?1&t?1:2&t?3:4&t?2:0:void 0}function u(e,n){return void 0!==t[n]?t[n]:s.clientHeight?s[e]:o.body[e]}function f(e,t,n){var r,a=e||{},i=a.className;return a.className+=" gu-hide",r=o.elementFromPoint(t,n),a.className=i,r}function d(){return!1}function h(){return!0}function m(e){return e.width||e.right-e.left}function v(e){return e.height||e.bottom-e.top}function p(e){return e.parentNode===o?null:e.parentNode}function g(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||function e(t){return!!t&&"false"!==t.contentEditable&&("true"===t.contentEditable||e(p(t)))}(e)}function _(e){return e.nextElementSibling||function(){var t=e;do{t=t.nextSibling}while(t&&1!==t.nodeType);return t}()}function w(e,t){var n=function(e){return e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}(t),r={pageX:"clientX",pageY:"clientY"};return e in r&&!(e in n)&&r[e]in n&&(e=r[e]),n[e]}n.exports=function(e,t){var n,b,y,k,S,x,E,z,I,B,A;1===arguments.length&&!1===Array.isArray(e)&&(t=e,e=[]);var L,C=null,T=t||{};void 0===T.moves&&(T.moves=h),void 0===T.accepts&&(T.accepts=h),void 0===T.invalid&&(T.invalid=function(){return!1}),void 0===T.containers&&(T.containers=e||[]),void 0===T.isContainer&&(T.isContainer=d),void 0===T.copy&&(T.copy=!1),void 0===T.copySortSource&&(T.copySortSource=!1),void 0===T.revertOnSpill&&(T.revertOnSpill=!1),void 0===T.removeOnSpill&&(T.removeOnSpill=!1),void 0===T.direction&&(T.direction="vertical"),void 0===T.ignoreInputTextSelection&&(T.ignoreInputTextSelection=!0),void 0===T.mirrorContainer&&(T.mirrorContainer=o.body);var N=r({containers:T.containers,start:function(e){var t=Z(e);t&&P(t)},end:j,cancel:K,remove:X,destroy:function(){R(!0),G({})},canMove:function(e){return!!Z(e)},dragging:!1});return!0===T.removeOnSpill&&N.on("over",(function(e){i.rm(e,"gu-hide")})).on("out",(function(e){N.dragging&&i.add(e,"gu-hide")})),R(),N;function U(e){return-1!==N.containers.indexOf(e)||T.isContainer(e)}function R(e){var t=e?"remove":"add";l(s,t,"mousedown",D),l(s,t,"mouseup",G)}function O(e){l(s,e?"remove":"add","mousemove",F)}function M(e){var t=e?"remove":"add";a[t](s,"selectstart",q),a[t](s,"click",q)}function q(e){L&&e.preventDefault()}function D(e){if(x=e.clientX,E=e.clientY,1===c(e)&&!e.metaKey&&!e.ctrlKey){var t=e.target,n=Z(t);n&&(L=n,O(),"mousedown"===e.type&&(g(t)?t.focus():e.preventDefault()))}}function F(e){if(L)if(0!==c(e)){if(void 0===e.clientX||e.clientX!==x||void 0===e.clientY||e.clientY!==E){if(T.ignoreInputTextSelection){var t=w("clientX",e),r=w("clientY",e);if(g(o.elementFromPoint(t,r)))return}var a=L;O(!0),M(),j(),P(a);var f,d={left:(f=y.getBoundingClientRect()).left+u("scrollLeft","pageXOffset"),top:f.top+u("scrollTop","pageYOffset")};k=w("pageX",e)-d.left,S=w("pageY",e)-d.top,i.add(B||y,"gu-transit"),function(){if(!n){var e=y.getBoundingClientRect();(n=y.cloneNode(!0)).style.width=m(e)+"px",n.style.height=v(e)+"px",i.rm(n,"gu-transit"),i.add(n,"gu-mirror"),T.mirrorContainer.appendChild(n),l(s,"add","mousemove",$),i.add(T.mirrorContainer,"gu-unselectable"),N.emit("cloned",n,y,"mirror")}}(),$(e)}}else G({})}function Z(e){if(!(N.dragging&&n||U(e))){for(var t=e;p(e)&&!1===U(p(e));){if(T.invalid(e,t))return;if(!(e=p(e)))return}var r=p(e);if(r&&!T.invalid(e,t)&&T.moves(e,r,t,_(e)))return{item:e,source:r}}}function P(e){var t,n;t=e.item,n=e.source,("boolean"==typeof T.copy?T.copy:T.copy(t,n))&&(B=e.item.cloneNode(!0),N.emit("cloned",B,e.item,"copy")),b=e.source,y=e.item,z=I=_(e.item),N.dragging=!0,N.emit("drag",y,b)}function j(){if(N.dragging){var e=B||y;Y(e,p(e))}}function H(){L=!1,O(!0),M(!0)}function G(e){if(H(),N.dragging){var t=B||y,r=w("clientX",e),a=w("clientY",e),i=V(f(n,r,a),r,a);i&&(B&&T.copySortSource||!B||i!==b)?Y(t,i):T.removeOnSpill?X():K()}}function Y(e,t){var n=p(e);B&&T.copySortSource&&t===b&&n.removeChild(y),Q(t)?N.emit("cancel",e,b,b):N.emit("drop",e,t,b,I),W()}function X(){if(N.dragging){var e=B||y,t=p(e);t&&t.removeChild(e),N.emit(B?"cancel":"remove",e,t,b),W()}}function K(e){if(N.dragging){var t=arguments.length>0?e:T.revertOnSpill,n=B||y,r=p(n),a=Q(r);!1===a&&t&&(B?r&&r.removeChild(B):b.insertBefore(n,z)),a||t?N.emit("cancel",n,b,b):N.emit("drop",n,r,b,I),W()}}function W(){var e=B||y;H(),n&&(i.rm(T.mirrorContainer,"gu-unselectable"),l(s,"remove","mousemove",$),p(n).removeChild(n),n=null),e&&i.rm(e,"gu-transit"),A&&clearTimeout(A),N.dragging=!1,C&&N.emit("out",e,C,b),N.emit("dragend",e),b=y=B=z=I=A=C=null}function Q(e,t){var r;return r=void 0!==t?t:n?I:_(B||y),e===b&&r===z}function V(e,t,n){for(var r=e;r&&!a();)r=p(r);return r;function a(){if(!1===U(r))return!1;var a=J(r,e),i=ee(r,a,t,n);return!!Q(r,i)||T.accepts(y,r,b,i)}}function $(e){if(n){e.preventDefault();var t=w("clientX",e),r=w("clientY",e),a=t-k,i=r-S;n.style.left=a+"px",n.style.top=i+"px";var o=B||y,s=f(n,t,r),l=V(s,t,r),c=null!==l&&l!==C;(c||null===l)&&(C&&m("out"),C=l,c&&m("over"));var u=p(o);if(l!==b||!B||T.copySortSource){var d,h=J(l,s);if(null!==h)d=ee(l,h,t,r);else{if(!0!==T.revertOnSpill||B)return void(B&&u&&u.removeChild(o));d=z,l=b}(null===d&&c||d!==o&&d!==_(o))&&(I=d,l.insertBefore(o,d),N.emit("shadow",o,l,b))}else u&&u.removeChild(o)}function m(e){N.emit(e,o,C,b)}}function J(e,t){for(var n=t;n!==e&&p(n)!==e;)n=p(n);return n===s?null:n}function ee(e,t,n,r){var a,i="horizontal"===T.direction;return t!==e?(a=t.getBoundingClientRect(),o(i?n>a.left+m(a)/2:r>a.top+v(a)/2)):function(){var t,a,o,s=e.children.length;for(t=0;t<s;t++){if(a=e.children[t],o=a.getBoundingClientRect(),i&&o.left+o.width/2>n)return a;if(!i&&o.top+o.height/2>r)return a}return null}();function o(e){return e?_(t):t}}}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./classes":1,"contra/emitter":5,crossvent:6}],3:[function(e,t,n){t.exports=function(e,t){return Array.prototype.slice.call(e,t)}},{}],4:[function(e,t,n){"use strict";var r=e("ticky");t.exports=function(e,t,n){e&&r((function(){e.apply(n||null,t||[])}))}},{ticky:9}],5:[function(e,t,n){"use strict";var r=e("atoa"),a=e("./debounce");t.exports=function(e,t){var n=t||{},i={};return void 0===e&&(e={}),e.on=function(t,n){return i[t]?i[t].push(n):i[t]=[n],e},e.once=function(t,n){return n._once=!0,e.on(t,n),e},e.off=function(t,n){var r=arguments.length;if(1===r)delete i[t];else if(0===r)i={};else{var a=i[t];if(!a)return e;a.splice(a.indexOf(n),1)}return e},e.emit=function(){var t=r(arguments);return e.emitterSnapshot(t.shift()).apply(this,t)},e.emitterSnapshot=function(t){var o=(i[t]||[]).slice(0);return function(){var i=r(arguments),s=this||e;if("error"===t&&!1!==n.throws&&!o.length)throw 1===i.length?i[0]:i;return o.forEach((function(r){n.async?a(r,i,s):r.apply(s,i),r._once&&e.off(t,r)})),e}},e}},{"./debounce":4,atoa:3}],6:[function(e,n,r){(function(t){"use strict";var r=e("custom-event"),a=e("./eventmap"),i=t.document,o=function(e,t,n,r){return e.addEventListener(t,n,r)},s=function(e,t,n,r){return e.removeEventListener(t,n,r)},l=[];function c(e,t,n){var r=function(e,t,n){var r,a;for(r=0;r<l.length;r++)if((a=l[r]).element===e&&a.type===t&&a.fn===n)return r}(e,t,n);if(r){var a=l[r].wrapper;return l.splice(r,1),a}}t.addEventListener||(o=function(e,n,r){return e.attachEvent("on"+n,function(e,n,r){var a=c(e,n,r)||function(e,n,r){return function(n){var a=n||t.event;a.target=a.target||a.srcElement,a.preventDefault=a.preventDefault||function(){a.returnValue=!1},a.stopPropagation=a.stopPropagation||function(){a.cancelBubble=!0},a.which=a.which||a.keyCode,r.call(e,a)}}(e,0,r);return l.push({wrapper:a,element:e,type:n,fn:r}),a}(e,n,r))},s=function(e,t,n){var r=c(e,t,n);if(r)return e.detachEvent("on"+t,r)}),n.exports={add:o,remove:s,fabricate:function(e,t,n){var o=-1===a.indexOf(t)?new r(t,{detail:n}):function(){var e;return i.createEvent?(e=i.createEvent("Event")).initEvent(t,!0,!0):i.createEventObject&&(e=i.createEventObject()),e}();e.dispatchEvent?e.dispatchEvent(o):e.fireEvent("on"+t,o)}}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":7,"custom-event":8}],7:[function(e,n,r){(function(e){"use strict";var t=[],r="",a=/^on/;for(r in e)a.test(r)&&t.push(r.slice(2));n.exports=t}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,n,r){(function(e){var t=e.CustomEvent;n.exports=function(){try{var e=new t("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?t:"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,r){var a;a="function"==typeof n?function(e){n(e)}:function(e){setTimeout(e,0)},t.exports=a},{}]},{},[2])(2)}).call(this,n(2),n(19).setImmediate)},function(e,t,n){(function(t){var r;r={},e.exports=r,function(e,t){e.toRGBA8=function(t){var n=t.width,r=t.height;if(null==t.tabs.acTL)return[e.toRGBA8.decodeImage(t.data,n,r,t).buffer];var a=[];null==t.frames[0].data&&(t.frames[0].data=t.data);for(var i,o=new Uint8Array(n*r*4),s=0;s<t.frames.length;s++){var l=t.frames[s],c=l.rect.x,u=l.rect.y,f=l.rect.width,d=l.rect.height,h=e.toRGBA8.decodeImage(l.data,f,d,t);if(0==s?i=h:0==l.blend?e._copyTile(h,f,d,i,n,r,c,u,0):1==l.blend&&e._copyTile(h,f,d,i,n,r,c,u,1),a.push(i.buffer),i=i.slice(0),0==l.dispose);else if(1==l.dispose)e._copyTile(o,f,d,i,n,r,c,u,0);else if(2==l.dispose){for(var m=s-1;2==t.frames[m].dispose;)m--;i=new Uint8Array(a[m]).slice(0)}}return a},e.toRGBA8.decodeImage=function(t,n,r,a){var i=n*r,o=e.decode._getBPP(a),s=Math.ceil(n*o/8),l=new Uint8Array(4*i),c=new Uint32Array(l.buffer),u=a.ctype,f=a.depth,d=e._bin.readUshort;if(6==u){var h=i<<2;if(8==f)for(var m=0;m<h;m++)l[m]=t[m];if(16==f)for(m=0;m<h;m++)l[m]=t[m<<1]}else if(2==u){var v=a.tabs.tRNS,p=-1,g=-1,_=-1;if(v&&(p=v[0],g=v[1],_=v[2]),8==f)for(m=0;m<i;m++){var w=3*m;l[z=m<<2]=t[w],l[z+1]=t[w+1],l[z+2]=t[w+2],l[z+3]=255,-1!=p&&t[w]==p&&t[w+1]==g&&t[w+2]==_&&(l[z+3]=0)}if(16==f)for(m=0;m<i;m++)w=6*m,l[z=m<<2]=t[w],l[z+1]=t[w+2],l[z+2]=t[w+4],l[z+3]=255,-1!=p&&d(t,w)==p&&d(t,w+2)==g&&d(t,w+4)==_&&(l[z+3]=0)}else if(3==u){var b=a.tabs.PLTE,y=a.tabs.tRNS,k=y?y.length:0;if(1==f)for(var S=0;S<r;S++){var x=S*s,E=S*n;for(m=0;m<n;m++){var z=E+m<<2,I=3*(B=t[x+(m>>3)]>>7-((7&m)<<0)&1);l[z]=b[I],l[z+1]=b[I+1],l[z+2]=b[I+2],l[z+3]=B<k?y[B]:255}}if(2==f)for(S=0;S<r;S++)for(x=S*s,E=S*n,m=0;m<n;m++)z=E+m<<2,I=3*(B=t[x+(m>>2)]>>6-((3&m)<<1)&3),l[z]=b[I],l[z+1]=b[I+1],l[z+2]=b[I+2],l[z+3]=B<k?y[B]:255;if(4==f)for(S=0;S<r;S++)for(x=S*s,E=S*n,m=0;m<n;m++)z=E+m<<2,I=3*(B=t[x+(m>>1)]>>4-((1&m)<<2)&15),l[z]=b[I],l[z+1]=b[I+1],l[z+2]=b[I+2],l[z+3]=B<k?y[B]:255;if(8==f)for(m=0;m<i;m++){var B;z=m<<2,I=3*(B=t[m]),l[z]=b[I],l[z+1]=b[I+1],l[z+2]=b[I+2],l[z+3]=B<k?y[B]:255}}else if(4==u){if(8==f)for(m=0;m<i;m++){z=m<<2;var A=t[L=m<<1];l[z]=A,l[z+1]=A,l[z+2]=A,l[z+3]=t[L+1]}if(16==f)for(m=0;m<i;m++){var L;z=m<<2,A=t[L=m<<2],l[z]=A,l[z+1]=A,l[z+2]=A,l[z+3]=t[L+2]}}else if(0==u){if(p=a.tabs.tRNS?a.tabs.tRNS:-1,1==f)for(m=0;m<i;m++){var C=(A=255*(t[m>>3]>>7-(7&m)&1))==255*p?0:255;c[m]=C<<24|A<<16|A<<8|A}if(2==f)for(m=0;m<i;m++)C=(A=85*(t[m>>2]>>6-((3&m)<<1)&3))==85*p?0:255,c[m]=C<<24|A<<16|A<<8|A;if(4==f)for(m=0;m<i;m++)C=(A=17*(t[m>>1]>>4-((1&m)<<2)&15))==17*p?0:255,c[m]=C<<24|A<<16|A<<8|A;if(8==f)for(m=0;m<i;m++)C=(A=t[m])==p?0:255,c[m]=C<<24|A<<16|A<<8|A;if(16==f)for(m=0;m<i;m++)A=t[m<<1],C=d(t,m<<1)==p?0:255,c[m]=C<<24|A<<16|A<<8|A}return l},e.decode=function(t){for(var n,r=new Uint8Array(t),a=8,i=e._bin,o=i.readUshort,s=i.readUint,l={tabs:{},frames:[]},c=new Uint8Array(r.length),u=0,f=0,d=[137,80,78,71,13,10,26,10],h=0;h<8;h++)if(r[h]!=d[h])throw"The input is not a PNG file!";for(;a<r.length;){var m=i.readUint(r,a);a+=4;var v=i.readASCII(r,a,4);if(a+=4,"IHDR"==v)e.decode._IHDR(r,a,l);else if("IDAT"==v){for(h=0;h<m;h++)c[u+h]=r[a+h];u+=m}else if("acTL"==v)l.tabs[v]={num_frames:s(r,a),num_plays:s(r,a+4)},n=new Uint8Array(r.length);else if("fcTL"==v){0!=f&&((x=l.frames[l.frames.length-1]).data=e.decode._decompress(l,n.slice(0,f),x.rect.width,x.rect.height),f=0);var p={x:s(r,a+12),y:s(r,a+16),width:s(r,a+4),height:s(r,a+8)},g=o(r,a+22);g=o(r,a+20)/(0==g?100:g);var _={rect:p,delay:Math.round(1e3*g),dispose:r[a+24],blend:r[a+25]};l.frames.push(_)}else if("fdAT"==v){for(h=0;h<m-4;h++)n[f+h]=r[a+h+4];f+=m-4}else if("pHYs"==v)l.tabs[v]=[i.readUint(r,a),i.readUint(r,a+4),r[a+8]];else if("cHRM"==v)for(l.tabs[v]=[],h=0;h<8;h++)l.tabs[v].push(i.readUint(r,a+4*h));else if("tEXt"==v){null==l.tabs[v]&&(l.tabs[v]={});var w=i.nextZero(r,a),b=i.readASCII(r,a,w-a),y=i.readASCII(r,w+1,a+m-w-1);l.tabs[v][b]=y}else if("iTXt"==v){null==l.tabs[v]&&(l.tabs[v]={}),w=0;var k=a;w=i.nextZero(r,k),b=i.readASCII(r,k,w-k),r[k=w+1],r[k+1],k+=2,w=i.nextZero(r,k),i.readASCII(r,k,w-k),k=w+1,w=i.nextZero(r,k),i.readUTF8(r,k,w-k),k=w+1,y=i.readUTF8(r,k,m-(k-a)),l.tabs[v][b]=y}else if("PLTE"==v)l.tabs[v]=i.readBytes(r,a,m);else if("hIST"==v){var S=l.tabs.PLTE.length/3;for(l.tabs[v]=[],h=0;h<S;h++)l.tabs[v].push(o(r,a+2*h))}else if("tRNS"==v)3==l.ctype?l.tabs[v]=i.readBytes(r,a,m):0==l.ctype?l.tabs[v]=o(r,a):2==l.ctype&&(l.tabs[v]=[o(r,a),o(r,a+2),o(r,a+4)]);else if("gAMA"==v)l.tabs[v]=i.readUint(r,a)/1e5;else if("sRGB"==v)l.tabs[v]=r[a];else if("bKGD"==v)0==l.ctype||4==l.ctype?l.tabs[v]=[o(r,a)]:2==l.ctype||6==l.ctype?l.tabs[v]=[o(r,a),o(r,a+2),o(r,a+4)]:3==l.ctype&&(l.tabs[v]=r[a]);else if("IEND"==v){var x;0!=f&&((x=l.frames[l.frames.length-1]).data=e.decode._decompress(l,n.slice(0,f),x.rect.width,x.rect.height),f=0),l.data=e.decode._decompress(l,c,l.width,l.height);break}a+=m,i.readUint(r,a),a+=4}return delete l.compress,delete l.interlace,delete l.filter,l},e.decode._decompress=function(t,n,r,a){return 0==t.compress&&(n=e.decode._inflate(n)),0==t.interlace?n=e.decode._filterZero(n,t,0,r,a):1==t.interlace&&(n=e.decode._readInterlace(n,t)),n},e.decode._inflate=function(e){return t.inflate(e)},e.decode._readInterlace=function(t,n){for(var r=n.width,a=n.height,i=e.decode._getBPP(n),o=i>>3,s=Math.ceil(r*i/8),l=new Uint8Array(a*s),c=0,u=[0,0,4,0,2,0,1],f=[0,4,0,2,0,1,0],d=[8,8,8,4,4,2,2],h=[8,8,4,4,2,2,1],m=0;m<7;){for(var v=d[m],p=h[m],g=0,_=0,w=u[m];w<a;)w+=v,_++;for(var b=f[m];b<r;)b+=p,g++;var y=Math.ceil(g*i/8);e.decode._filterZero(t,n,c,g,_);for(var k=0,S=u[m];S<a;){for(var x=f[m],E=c+k*y<<3;x<r;){var z;if(1==i&&(z=(z=t[E>>3])>>7-(7&E)&1,l[S*s+(x>>3)]|=z<<7-((3&x)<<0)),2==i&&(z=(z=t[E>>3])>>6-(7&E)&3,l[S*s+(x>>2)]|=z<<6-((3&x)<<1)),4==i&&(z=(z=t[E>>3])>>4-(7&E)&15,l[S*s+(x>>1)]|=z<<4-((1&x)<<2)),i>=8)for(var I=S*s+x*o,B=0;B<o;B++)l[I+B]=t[(E>>3)+B];E+=i,x+=p}k++,S+=v}g*_!=0&&(c+=_*(1+y)),m+=1}return l},e.decode._getBPP=function(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth},e.decode._filterZero=function(t,n,r,a,i){var o=e.decode._getBPP(n),s=Math.ceil(a*o/8),l=e.decode._paeth;o=Math.ceil(o/8);for(var c=0;c<i;c++){var u=r+c*s,f=u+c+1,d=t[f-1];if(0==d)for(var h=0;h<s;h++)t[u+h]=t[f+h];else if(1==d){for(h=0;h<o;h++)t[u+h]=t[f+h];for(h=o;h<s;h++)t[u+h]=t[f+h]+t[u+h-o]&255}else if(0==c){for(h=0;h<o;h++)t[u+h]=t[f+h];if(2==d)for(h=o;h<s;h++)t[u+h]=255&t[f+h];if(3==d)for(h=o;h<s;h++)t[u+h]=t[f+h]+(t[u+h-o]>>1)&255;if(4==d)for(h=o;h<s;h++)t[u+h]=t[f+h]+l(t[u+h-o],0,0)&255}else{if(2==d)for(h=0;h<s;h++)t[u+h]=t[f+h]+t[u+h-s]&255;if(3==d){for(h=0;h<o;h++)t[u+h]=t[f+h]+(t[u+h-s]>>1)&255;for(h=o;h<s;h++)t[u+h]=t[f+h]+(t[u+h-s]+t[u+h-o]>>1)&255}if(4==d){for(h=0;h<o;h++)t[u+h]=t[f+h]+l(0,t[u+h-s],0)&255;for(h=o;h<s;h++)t[u+h]=t[f+h]+l(t[u+h-o],t[u+h-s],t[u+h-o-s])&255}}}return t},e.decode._paeth=function(e,t,n){var r=e+t-n,a=Math.abs(r-e),i=Math.abs(r-t),o=Math.abs(r-n);return a<=i&&a<=o?e:i<=o?t:n},e.decode._IHDR=function(t,n,r){var a=e._bin;r.width=a.readUint(t,n),n+=4,r.height=a.readUint(t,n),n+=4,r.depth=t[n],n++,r.ctype=t[n],n++,r.compress=t[n],n++,r.filter=t[n],n++,r.interlace=t[n],n++},e._bin={nextZero:function(e,t){for(;0!=e[t];)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},writeUshort:function(e,t,n){e[t]=n>>8&255,e[t+1]=255&n},readUint:function(e,t){return 16777216*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3])},writeUint:function(e,t,n){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},readASCII:function(e,t,n){for(var r="",a=0;a<n;a++)r+=String.fromCharCode(e[t+a]);return r},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},readBytes:function(e,t,n){for(var r=[],a=0;a<n;a++)r.push(e[t+a]);return r},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(t,n,r){for(var a,i="",o=0;o<r;o++)i+="%"+e._bin.pad(t[n+o].toString(16));try{a=decodeURIComponent(i)}catch(a){return e._bin.readASCII(t,n,r)}return a}},e._copyTile=function(e,t,n,r,a,i,o,s,l){for(var c=Math.min(t,a),u=Math.min(n,i),f=0,d=0,h=0;h<u;h++)for(var m=0;m<c;m++)if(o>=0&&s>=0?(f=h*t+m<<2,d=(s+h)*a+o+m<<2):(f=(-s+h)*t-o+m<<2,d=h*a+m<<2),0==l)r[d]=e[f],r[d+1]=e[f+1],r[d+2]=e[f+2],r[d+3]=e[f+3];else if(1==l){var v=e[f+3]*(1/255),p=e[f]*v,g=e[f+1]*v,_=e[f+2]*v,w=r[d+3]*(1/255),b=r[d]*w,y=r[d+1]*w,k=r[d+2]*w,S=1-v,x=v+w*S,E=0==x?0:1/x;r[d+3]=255*x,r[d+0]=(p+b*S)*E,r[d+1]=(g+y*S)*E,r[d+2]=(_+k*S)*E}else if(2==l)v=e[f+3],p=e[f],g=e[f+1],_=e[f+2],w=r[d+3],b=r[d],y=r[d+1],k=r[d+2],v==w&&p==b&&g==y&&_==k?(r[d]=0,r[d+1]=0,r[d+2]=0,r[d+3]=0):(r[d]=p,r[d+1]=g,r[d+2]=_,r[d+3]=v);else if(3==l){if(v=e[f+3],p=e[f],g=e[f+1],_=e[f+2],w=r[d+3],b=r[d],y=r[d+1],k=r[d+2],v==w&&p==b&&g==y&&_==k)continue;if(v<220&&w>20)return!1}return!0},e.encode=function(t,n,r,a,i,o){null==a&&(a=0),null==o&&(o=!1);for(var s=new Uint8Array(t[0].byteLength*t.length+100),l=[137,80,78,71,13,10,26,10],c=0;c<8;c++)s[c]=l[c];var u=8,f=e._bin,d=e.crc.crc,h=f.writeUint,m=f.writeUshort,v=f.writeASCII,p=e.encode.compressPNG(t,n,r,a,o);h(s,u,13),v(s,u+=4,"IHDR"),h(s,u+=4,n),h(s,u+=4,r),s[u+=4]=p.depth,s[++u]=p.ctype,s[++u]=0,s[++u]=0,s[++u]=0,h(s,++u,d(s,u-17,17)),h(s,u+=4,1),v(s,u+=4,"sRGB"),s[u+=4]=1,h(s,++u,d(s,u-5,5)),u+=4;var g=t.length>1;if(g&&(h(s,u,8),v(s,u+=4,"acTL"),h(s,u+=4,t.length),h(s,u+=4,0),h(s,u+=4,d(s,u-12,12)),u+=4),3==p.ctype){for(h(s,u,3*(z=p.plte.length)),v(s,u+=4,"PLTE"),u+=4,c=0;c<z;c++){var _=3*c,w=p.plte[c],b=255&w,y=w>>8&255,k=w>>16&255;s[u+_+0]=b,s[u+_+1]=y,s[u+_+2]=k}if(h(s,u+=3*z,d(s,u-3*z-4,3*z+4)),u+=4,p.gotAlpha){for(h(s,u,z),v(s,u+=4,"tRNS"),u+=4,c=0;c<z;c++)s[u+c]=p.plte[c]>>24&255;h(s,u+=z,d(s,u-z-4,z+4)),u+=4}}for(var S=0,x=0;x<p.frames.length;x++){var E=p.frames[x];g&&(h(s,u,26),v(s,u+=4,"fcTL"),h(s,u+=4,S++),h(s,u+=4,E.rect.width),h(s,u+=4,E.rect.height),h(s,u+=4,E.rect.x),h(s,u+=4,E.rect.y),m(s,u+=4,i[x]),m(s,u+=2,1e3),s[u+=2]=E.dispose,s[++u]=E.blend,h(s,++u,d(s,u-30,30)),u+=4);var z,I=E.cimg;h(s,u,(z=I.length)+(0==x?0:4));var B=u+=4;for(v(s,u,0==x?"IDAT":"fdAT"),u+=4,0!=x&&(h(s,u,S++),u+=4),c=0;c<z;c++)s[u+c]=I[c];h(s,u+=z,d(s,B,u-B)),u+=4}return h(s,u,0),v(s,u+=4,"IEND"),h(s,u+=4,d(s,u-4,4)),u+=4,s.buffer.slice(0,u)},e.encode.compressPNG=function(t,n,r,a,i){for(var o=e.encode.compress(t,n,r,a,!1,i),s=0;s<t.length;s++){var l=o.frames[s],c=(l.rect.width,l.rect.height),u=l.bpl,f=l.bpp,d=new Uint8Array(c*u+c);l.cimg=e.encode._filterZero(l.img,c,f,u,d)}return o},e.encode.compress=function(t,n,r,a,i,o){null==o&&(o=!1);for(var s=6,l=8,c=4,u=255,f=0;f<t.length;f++)for(var d=new Uint8Array(t[f]),h=d.length,m=0;m<h;m+=4)u&=d[m+3];var v=255!=u,p={},g=[];if(0!=t.length&&(p[0]=0,g.push(0),0!=a&&a--),0!=a){var _=e.quantize(t,a,i);for(t=_.bufs,m=0;m<_.plte.length;m++)null==p[b=_.plte[m].est.rgba]&&(p[b]=g.length,g.push(b))}else for(f=0;f<t.length;f++){var w=new Uint32Array(t[f]);for(h=w.length,m=0;m<h;m++){var b=w[m];if((m<n||b!=w[m-1]&&b!=w[m-n])&&null==p[b]&&(p[b]=g.length,g.push(b),g.length>=300))break}}var y=!!v&&i,k=g.length;k<=256&&0==o&&(l=k<=2?1:k<=4?2:k<=16?4:8,i&&(l=8),v=!0);var S=[];for(f=0;f<t.length;f++){var x=new Uint8Array(t[f]),E=new Uint32Array(x.buffer),z=0,I=0,B=n,A=r,L=0;if(0!=f&&!y){for(var C=i||1==f||2==S[S.length-2].dispose?1:2,T=0,N=1e9,U=0;U<C;U++){for(var R=new Uint8Array(t[f-1-U]),O=new Uint32Array(t[f-1-U]),M=n,q=r,D=-1,F=-1,Z=0;Z<r;Z++)for(var P=0;P<n;P++)E[m=Z*n+P]!=O[m]&&(P<M&&(M=P),P>D&&(D=P),Z<q&&(q=Z),Z>F&&(F=Z));var j=-1==D?1:(D-M+1)*(F-q+1);j<N&&(N=j,T=U,-1==D?(z=I=0,B=A=1):(z=M,I=q,B=D-M+1,A=F-q+1))}R=new Uint8Array(t[f-1-T]),1==T&&(S[S.length-1].dispose=2);var H=new Uint8Array(B*A*4);new Uint32Array(H.buffer),e._copyTile(R,n,r,H,B,A,-z,-I,0),e._copyTile(x,n,r,H,B,A,-z,-I,3)?(e._copyTile(x,n,r,H,B,A,-z,-I,2),L=1):(e._copyTile(x,n,r,H,B,A,-z,-I,0),L=0),x=H,E=new Uint32Array(x.buffer)}var G=4*B;if(k<=256&&0==o){for(G=Math.ceil(l*B/8),H=new Uint8Array(G*A),Z=0;Z<A;Z++){m=Z*G;var Y=Z*B;if(8==l)for(P=0;P<B;P++)H[m+P]=p[E[Y+P]];else if(4==l)for(P=0;P<B;P++)H[m+(P>>1)]|=p[E[Y+P]]<<4-4*(1&P);else if(2==l)for(P=0;P<B;P++)H[m+(P>>2)]|=p[E[Y+P]]<<6-2*(3&P);else if(1==l)for(P=0;P<B;P++)H[m+(P>>3)]|=p[E[Y+P]]<<7-1*(7&P)}x=H,s=3,c=1}else if(0==v&&1==t.length){H=new Uint8Array(B*A*3);var X=B*A;for(m=0;m<X;m++){var K=3*m,W=4*m;H[K]=x[W],H[K+1]=x[W+1],H[K+2]=x[W+2]}x=H,s=2,c=3,G=3*B}S.push({rect:{x:z,y:I,width:B,height:A},img:x,bpl:G,bpp:c,blend:L,dispose:y?1:0})}return{ctype:s,depth:l,plte:g,gotAlpha:v,frames:S}},e.encode._filterZero=function(n,r,a,i,o){for(var s=[],l=0;l<5;l++)if(!(r*i>5e5)||2!=l&&3!=l&&4!=l){for(var c=0;c<r;c++)e.encode._filterLine(o,n,c,i,a,l);if(s.push(t.deflate(o)),1==a)break}for(var u,f=1e9,d=0;d<s.length;d++)s[d].length<f&&(u=d,f=s[d].length);return s[u]},e.encode._filterLine=function(t,n,r,a,i,o){var s=r*a,l=s+r,c=e.decode._paeth;if(t[l]=o,l++,0==o)for(var u=0;u<a;u++)t[l+u]=n[s+u];else if(1==o){for(u=0;u<i;u++)t[l+u]=n[s+u];for(u=i;u<a;u++)t[l+u]=n[s+u]-n[s+u-i]+256&255}else if(0==r){for(u=0;u<i;u++)t[l+u]=n[s+u];if(2==o)for(u=i;u<a;u++)t[l+u]=n[s+u];if(3==o)for(u=i;u<a;u++)t[l+u]=n[s+u]-(n[s+u-i]>>1)+256&255;if(4==o)for(u=i;u<a;u++)t[l+u]=n[s+u]-c(n[s+u-i],0,0)+256&255}else{if(2==o)for(u=0;u<a;u++)t[l+u]=n[s+u]+256-n[s+u-a]&255;if(3==o){for(u=0;u<i;u++)t[l+u]=n[s+u]+256-(n[s+u-a]>>1)&255;for(u=i;u<a;u++)t[l+u]=n[s+u]+256-(n[s+u-a]+n[s+u-i]>>1)&255}if(4==o){for(u=0;u<i;u++)t[l+u]=n[s+u]+256-c(0,n[s+u-a],0)&255;for(u=i;u<a;u++)t[l+u]=n[s+u]+256-c(n[s+u-i],n[s+u-a],n[s+u-i-a])&255}}},e.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(t,n,r,a){for(var i=0;i<a;i++)t=e.crc.table[255&(t^n[r+i])]^t>>>8;return t},crc:function(t,n,r){return 4294967295^e.crc.update(4294967295,t,n,r)}},e.quantize=function(t,n,r){for(var a=[],i=0,o=0;o<t.length;o++)a.push(e.encode.alphaMul(new Uint8Array(t[o]),r)),i+=t[o].byteLength;var s=new Uint8Array(i),l=new Uint32Array(s.buffer),c=0;for(o=0;o<a.length;o++){for(var u=a[o],f=u.length,d=0;d<f;d++)s[c+d]=u[d];c+=f}var h={i0:0,i1:s.length,bst:null,est:null,tdst:0,left:null,right:null};h.bst=e.quantize.stats(s,h.i0,h.i1),h.est=e.quantize.estats(h.bst);for(var m=[h];m.length<n;){var v=0,p=0;for(o=0;o<m.length;o++)m[o].est.L>v&&(v=m[o].est.L,p=o);if(v<.001)break;var g=m[p],_=e.quantize.splitPixels(s,l,g.i0,g.i1,g.est.e,g.est.eMq255),w={i0:g.i0,i1:_,bst:null,est:null,tdst:0,left:null,right:null};w.bst=e.quantize.stats(s,w.i0,w.i1),w.est=e.quantize.estats(w.bst);var b={i0:_,i1:g.i1,bst:null,est:null,tdst:0,left:null,right:null};for(b.bst={R:[],m:[],N:g.bst.N-w.bst.N},o=0;o<16;o++)b.bst.R[o]=g.bst.R[o]-w.bst.R[o];for(o=0;o<4;o++)b.bst.m[o]=g.bst.m[o]-w.bst.m[o];b.est=e.quantize.estats(b.bst),g.left=w,g.right=b,m[p]=w,m.push(b)}m.sort((function(e,t){return t.bst.N-e.bst.N}));for(var y=0;y<a.length;y++){var k=e.quantize.planeDst,S=new Uint8Array(a[y].buffer),x=new Uint32Array(a[y].buffer),E=S.length;for(o=0;o<E;o+=4){for(var z=S[o]*(1/255),I=S[o+1]*(1/255),B=S[o+2]*(1/255),A=S[o+3]*(1/255),L=h;L.left;)L=k(L.est,z,I,B,A)<=0?L.left:L.right;x[o>>2]=L.est.rgba}a[y]=x.buffer}return{bufs:a,plte:m}},e.quantize.getNearest=function(t,n,r,a,i){if(null==t.left)return t.tdst=e.quantize.dist(t.est.q,n,r,a,i),t;var o=e.quantize.planeDst(t.est,n,r,a,i),s=t.left,l=t.right;o>0&&(s=t.right,l=t.left);var c=e.quantize.getNearest(s,n,r,a,i);if(c.tdst<=o*o)return c;var u=e.quantize.getNearest(l,n,r,a,i);return u.tdst<c.tdst?u:c},e.quantize.planeDst=function(e,t,n,r,a){var i=e.e;return i[0]*t+i[1]*n+i[2]*r+i[3]*a-e.eMq},e.quantize.dist=function(e,t,n,r,a){var i=t-e[0],o=n-e[1],s=r-e[2],l=a-e[3];return i*i+o*o+s*s+l*l},e.quantize.splitPixels=function(t,n,r,a,i,o){var s=e.quantize.vecDot;for(a-=4;r<a;){for(;s(t,r,i)<=o;)r+=4;for(;s(t,a,i)>o;)a-=4;if(r>=a)break;var l=n[r>>2];n[r>>2]=n[a>>2],n[a>>2]=l,r+=4,a-=4}for(;s(t,r,i)>o;)r-=4;return r+4},e.quantize.vecDot=function(e,t,n){return e[t]*n[0]+e[t+1]*n[1]+e[t+2]*n[2]+e[t+3]*n[3]},e.quantize.stats=function(e,t,n){for(var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=[0,0,0,0],i=n-t>>2,o=t;o<n;o+=4){var s=e[o]*(1/255),l=e[o+1]*(1/255),c=e[o+2]*(1/255),u=e[o+3]*(1/255);a[0]+=s,a[1]+=l,a[2]+=c,a[3]+=u,r[0]+=s*s,r[1]+=s*l,r[2]+=s*c,r[3]+=s*u,r[5]+=l*l,r[6]+=l*c,r[7]+=l*u,r[10]+=c*c,r[11]+=c*u,r[15]+=u*u}return r[4]=r[1],r[8]=r[2],r[12]=r[3],r[9]=r[6],r[13]=r[7],r[14]=r[11],{R:r,m:a,N:i}},e.quantize.estats=function(t){var n=t.R,r=t.m,a=t.N,i=r[0],o=r[1],s=r[2],l=r[3],c=0==a?0:1/a,u=[n[0]-i*i*c,n[1]-i*o*c,n[2]-i*s*c,n[3]-i*l*c,n[4]-o*i*c,n[5]-o*o*c,n[6]-o*s*c,n[7]-o*l*c,n[8]-s*i*c,n[9]-s*o*c,n[10]-s*s*c,n[11]-s*l*c,n[12]-l*i*c,n[13]-l*o*c,n[14]-l*s*c,n[15]-l*l*c],f=u,d=e.M4,h=[.5,.5,.5,.5],m=0,v=0;if(0!=a)for(var p=0;p<10&&(h=d.multVec(f,h),v=Math.sqrt(d.dot(h,h)),h=d.sml(1/v,h),!(Math.abs(v-m)<1e-9));p++)m=v;var g=[i*c,o*c,s*c,l*c],_=d.dot(d.sml(255,g),h),w=g[3]<.001?0:1/g[3];return{Cov:u,q:g,e:h,L:m,eMq255:_,eMq:d.dot(h,g),rgba:(Math.round(255*g[3])<<24|Math.round(255*g[2]*w)<<16|Math.round(255*g[1]*w)<<8|Math.round(255*g[0]*w)<<0)>>>0}},e.M4={multVec:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]]},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},sml:function(e,t){return[e*t[0],e*t[1],e*t[2],e*t[3]]}},e.encode.alphaMul=function(e,t){for(var n=new Uint8Array(e.length),r=e.length>>2,a=0;a<r;a++){var i=a<<2,o=e[i+3];t&&(o=o<128?0:255);var s=o*(1/255);n[i+0]=e[i+0]*s,n[i+1]=e[i+1]*s,n[i+2]=e[i+2]*s,n[i+3]=o}return n}}(r,n(21))}).call(this,n(6))},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),o=new I(r||[]);return i._invoke=function(e,t,n){var r=u;return function(a,i){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===a)throw i;return A()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var l=c(e,t,n);if("normal"===l.type){if(r=n.done?h:f,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=h,n.method="throw",n.arg=l.arg)}}}(e,n,o),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u="suspendedStart",f="suspendedYield",d="executing",h="completed",m={};function v(){}function p(){}function g(){}var _={};_[i]=function(){return this};var w=Object.getPrototypeOf,b=w&&w(w(B([])));b&&b!==n&&r.call(b,i)&&(_=b);var y=g.prototype=v.prototype=Object.create(_);function k(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function S(e){var t;this._invoke=function(n,a){function i(){return new Promise((function(t,i){!function t(n,a,i,o){var s=c(e[n],e,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,i,o)}),(function(e){t("throw",e,i,o)})):Promise.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return t("throw",e,i,o)}))}o(s.arg)}(n,a,t,i)}))}return t=t?t.then(i,i):i()}}function x(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=c(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function z(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function B(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return p.prototype=y.constructor=g,g.constructor=p,g[s]=p.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},k(S.prototype),S.prototype[o]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,r,a){var i=new S(l(t,n,r,a));return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(y),y[s]="Generator",y[i]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=B,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(z),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),z(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;z(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:B(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){var r=n(16);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(5)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(18);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(5)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,a=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(a.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(20),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(2))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,a,i,o,s,l=1,c={},u=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){m(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){m(e.data)},r=function(e){i.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(a=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){m(e),t.onreadystatechange=null,a.removeChild(t),t=null},a.appendChild(t)}):r=function(e){setTimeout(m,0,e)}:(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&m(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(o+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return c[l]=a,r(l),l++},d.clearImmediate=h}function h(e){delete c[e]}function m(e){if(u)setTimeout(m,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{h(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(2),n(6))},function(e,t,n){"use strict";var r={};(0,n(0).assign)(r,n(22),n(25),n(11)),e.exports=r},function(e,t,n){"use strict";var r=n(23),a=n(0),i=n(9),o=n(3),s=n(10),l=Object.prototype.toString,c=0,u=-1,f=0,d=8;function h(e){if(!(this instanceof h))return new h(e);this.options=a.assign({level:u,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(o[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var m;if(m="string"==typeof t.dictionary?i.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,m))!==c)throw new Error(o[n]);this._dict_set=!0}}function m(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}h.prototype.push=function(e,t){var n,o,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=i.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new a.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=r.deflate(s,o))&&n!==c)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(i.buf2binstring(a.shrinkBuf(s.output,s.next_out))):this.onData(a.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===o?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==o||(this.onEnd(c),s.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=h,t.deflate=m,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,m(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,m(e,t)}},function(e,t,n){"use strict";var r,a=n(0),i=n(24),o=n(7),s=n(8),l=n(3),c=0,u=1,f=3,d=4,h=5,m=0,v=1,p=-2,g=-3,_=-5,w=-1,b=1,y=2,k=3,S=4,x=0,E=2,z=8,I=9,B=15,A=8,L=286,C=30,T=19,N=2*L+1,U=15,R=3,O=258,M=O+R+1,q=32,D=42,F=69,Z=73,P=91,j=103,H=113,G=666,Y=1,X=2,K=3,W=4,Q=3;function V(e,t){return e.msg=l[t],t}function $(e){return(e<<1)-(e>4?9:0)}function J(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(a.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function te(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function ne(e,t){e.pending_buf[e.pending++]=t}function re(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ae(e,t){var n,r,a=e.max_chain_length,i=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-M?e.strstart-(e.w_size-M):0,c=e.window,u=e.w_mask,f=e.prev,d=e.strstart+O,h=c[i+o-1],m=c[i+o];e.prev_length>=e.good_match&&(a>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+o]===m&&c[n+o-1]===h&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<d);if(r=O-(d-i),i=d-O,r>o){if(e.match_start=t,o=r,r>=s)break;h=c[i+o-1],m=c[i+o]}}}while((t=f[t&u])>l&&0!=--a);return o<=e.lookahead?o:e.lookahead}function ie(e){var t,n,r,i,l,c,u,f,d,h,m=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-M)){a.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=m?r-m:0}while(--n);t=n=m;do{r=e.prev[--t],e.prev[t]=r>=m?r-m:0}while(--n);i+=m}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,f=e.strstart+e.lookahead,d=i,h=void 0,(h=c.avail_in)>d&&(h=d),n=0===h?0:(c.avail_in-=h,a.arraySet(u,c.input,c.next_in,h,f),1===c.state.wrap?c.adler=o(c.adler,u,h,f):2===c.state.wrap&&(c.adler=s(c.adler,u,h,f)),c.next_in+=h,c.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=R)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+R-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<R)););}while(e.lookahead<M&&0!==e.strm.avail_in)}function oe(e,t){for(var n,r;;){if(e.lookahead<M){if(ie(e),e.lookahead<M&&t===c)return Y;if(0===e.lookahead)break}if(n=0,e.lookahead>=R&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-M&&(e.match_length=ae(e,n)),e.match_length>=R)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-R),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=R){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(te(e,!1),0===e.strm.avail_out))return Y}return e.insert=e.strstart<R-1?e.strstart:R-1,t===d?(te(e,!0),0===e.strm.avail_out?K:W):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?Y:X}function se(e,t){for(var n,r,a;;){if(e.lookahead<M){if(ie(e),e.lookahead<M&&t===c)return Y;if(0===e.lookahead)break}if(n=0,e.lookahead>=R&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=R-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-M&&(e.match_length=ae(e,n),e.match_length<=5&&(e.strategy===b||e.match_length===R&&e.strstart-e.match_start>4096)&&(e.match_length=R-1)),e.prev_length>=R&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-R,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-R),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=R-1,e.strstart++,r&&(te(e,!1),0===e.strm.avail_out))return Y}else if(e.match_available){if((r=i._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return Y}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<R-1?e.strstart:R-1,t===d?(te(e,!0),0===e.strm.avail_out?K:W):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?Y:X}function le(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}function ce(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*N),this.dyn_dtree=new a.Buf16(2*(2*C+1)),this.bl_tree=new a.Buf16(2*(2*T+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(U+1),this.heap=new a.Buf16(2*L+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*L+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ue(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=E,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?D:H,e.adler=2===t.wrap?0:1,t.last_flush=c,i._tr_init(t),m):V(e,p)}function fe(e){var t,n=ue(e);return n===m&&((t=e.state).window_size=2*t.w_size,J(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=R-1,t.match_available=0,t.ins_h=0),n}function de(e,t,n,r,i,o){if(!e)return p;var s=1;if(t===w&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>I||n!==z||r<8||r>15||t<0||t>9||o<0||o>S)return V(e,p);8===r&&(r=9);var l=new ce;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+R-1)/R),l.window=new a.Buf8(2*l.w_size),l.head=new a.Buf16(l.hash_size),l.prev=new a.Buf16(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new a.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=n,fe(e)}r=[new le(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ie(e),0===e.lookahead&&t===c)return Y;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,te(e,!1),0===e.strm.avail_out))return Y;if(e.strstart-e.block_start>=e.w_size-M&&(te(e,!1),0===e.strm.avail_out))return Y}return e.insert=0,t===d?(te(e,!0),0===e.strm.avail_out?K:W):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),Y)})),new le(4,4,8,4,oe),new le(4,5,16,8,oe),new le(4,6,32,32,oe),new le(4,4,16,16,se),new le(8,16,32,32,se),new le(8,16,128,128,se),new le(8,32,128,256,se),new le(32,128,258,1024,se),new le(32,258,258,4096,se)],t.deflateInit=function(e,t){return de(e,t,z,B,A,x)},t.deflateInit2=de,t.deflateReset=fe,t.deflateResetKeep=ue,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?p:(e.state.gzhead=t,m):p},t.deflate=function(e,t){var n,a,o,l;if(!e||!e.state||t>h||t<0)return e?V(e,p):p;if(a=e.state,!e.output||!e.input&&0!==e.avail_in||a.status===G&&t!==d)return V(e,0===e.avail_out?_:p);if(a.strm=e,n=a.last_flush,a.last_flush=t,a.status===D)if(2===a.wrap)e.adler=0,ne(a,31),ne(a,139),ne(a,8),a.gzhead?(ne(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),ne(a,255&a.gzhead.time),ne(a,a.gzhead.time>>8&255),ne(a,a.gzhead.time>>16&255),ne(a,a.gzhead.time>>24&255),ne(a,9===a.level?2:a.strategy>=y||a.level<2?4:0),ne(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(ne(a,255&a.gzhead.extra.length),ne(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=s(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=F):(ne(a,0),ne(a,0),ne(a,0),ne(a,0),ne(a,0),ne(a,9===a.level?2:a.strategy>=y||a.level<2?4:0),ne(a,Q),a.status=H);else{var g=z+(a.w_bits-8<<4)<<8;g|=(a.strategy>=y||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(g|=q),g+=31-g%31,a.status=H,re(a,g),0!==a.strstart&&(re(a,e.adler>>>16),re(a,65535&e.adler)),e.adler=1}if(a.status===F)if(a.gzhead.extra){for(o=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),ee(e),o=a.pending,a.pending!==a.pending_buf_size));)ne(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=Z)}else a.status=Z;if(a.status===Z)if(a.gzhead.name){o=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),ee(e),o=a.pending,a.pending===a.pending_buf_size)){l=1;break}l=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,ne(a,l)}while(0!==l);a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),0===l&&(a.gzindex=0,a.status=P)}else a.status=P;if(a.status===P)if(a.gzhead.comment){o=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),ee(e),o=a.pending,a.pending===a.pending_buf_size)){l=1;break}l=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,ne(a,l)}while(0!==l);a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),0===l&&(a.status=j)}else a.status=j;if(a.status===j&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&ee(e),a.pending+2<=a.pending_buf_size&&(ne(a,255&e.adler),ne(a,e.adler>>8&255),e.adler=0,a.status=H)):a.status=H),0!==a.pending){if(ee(e),0===e.avail_out)return a.last_flush=-1,m}else if(0===e.avail_in&&$(t)<=$(n)&&t!==d)return V(e,_);if(a.status===G&&0!==e.avail_in)return V(e,_);if(0!==e.avail_in||0!==a.lookahead||t!==c&&a.status!==G){var w=a.strategy===y?function(e,t){for(var n;;){if(0===e.lookahead&&(ie(e),0===e.lookahead)){if(t===c)return Y;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return Y}return e.insert=0,t===d?(te(e,!0),0===e.strm.avail_out?K:W):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?Y:X}(a,t):a.strategy===k?function(e,t){for(var n,r,a,o,s=e.window;;){if(e.lookahead<=O){if(ie(e),e.lookahead<=O&&t===c)return Y;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=R&&e.strstart>0&&(r=s[a=e.strstart-1])===s[++a]&&r===s[++a]&&r===s[++a]){o=e.strstart+O;do{}while(r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&a<o);e.match_length=O-(o-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=R?(n=i._tr_tally(e,1,e.match_length-R),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(te(e,!1),0===e.strm.avail_out))return Y}return e.insert=0,t===d?(te(e,!0),0===e.strm.avail_out?K:W):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?Y:X}(a,t):r[a.level].func(a,t);if(w!==K&&w!==W||(a.status=G),w===Y||w===K)return 0===e.avail_out&&(a.last_flush=-1),m;if(w===X&&(t===u?i._tr_align(a):t!==h&&(i._tr_stored_block(a,0,0,!1),t===f&&(J(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),ee(e),0===e.avail_out))return a.last_flush=-1,m}return t!==d?m:a.wrap<=0?v:(2===a.wrap?(ne(a,255&e.adler),ne(a,e.adler>>8&255),ne(a,e.adler>>16&255),ne(a,e.adler>>24&255),ne(a,255&e.total_in),ne(a,e.total_in>>8&255),ne(a,e.total_in>>16&255),ne(a,e.total_in>>24&255)):(re(a,e.adler>>>16),re(a,65535&e.adler)),ee(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?m:v)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==D&&t!==F&&t!==Z&&t!==P&&t!==j&&t!==H&&t!==G?V(e,p):(e.state=null,t===H?V(e,g):m):p},t.deflateSetDictionary=function(e,t){var n,r,i,s,l,c,u,f,d=t.length;if(!e||!e.state)return p;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==D||n.lookahead)return p;for(1===s&&(e.adler=o(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(J(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new a.Buf8(n.w_size),a.arraySet(f,t,d-n.w_size,n.w_size,0),t=f,d=n.w_size),l=e.avail_in,c=e.next_in,u=e.input,e.avail_in=d,e.next_in=0,e.input=t,ie(n);n.lookahead>=R;){r=n.strstart,i=n.lookahead-(R-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+R-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=R-1,ie(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=R-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=l,n.wrap=s,m},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var r=n(0),a=4,i=0,o=1,s=2;function l(e){for(var t=e.length;--t>=0;)e[t]=0}var c=0,u=1,f=2,d=29,h=256,m=h+1+d,v=30,p=19,g=2*m+1,_=15,w=16,b=7,y=256,k=16,S=17,x=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=new Array(2*(m+2));l(A);var L=new Array(2*v);l(L);var C=new Array(512);l(C);var T=new Array(256);l(T);var N=new Array(d);l(N);var U,R,O,M=new Array(v);function q(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}function D(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function F(e){return e<256?C[e]:C[256+(e>>>7)]}function Z(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function P(e,t,n){e.bi_valid>w-n?(e.bi_buf|=t<<e.bi_valid&65535,Z(e,e.bi_buf),e.bi_buf=t>>w-e.bi_valid,e.bi_valid+=n-w):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function j(e,t,n){P(e,n[2*t],n[2*t+1])}function H(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function G(e,t,n){var r,a,i=new Array(_+1),o=0;for(r=1;r<=_;r++)i[r]=o=o+n[r-1]<<1;for(a=0;a<=t;a++){var s=e[2*a+1];0!==s&&(e[2*a]=H(i[s]++,s))}}function Y(e){var t;for(t=0;t<m;t++)e.dyn_ltree[2*t]=0;for(t=0;t<v;t++)e.dyn_dtree[2*t]=0;for(t=0;t<p;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*y]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function X(e){e.bi_valid>8?Z(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function K(e,t,n,r){var a=2*t,i=2*n;return e[a]<e[i]||e[a]===e[i]&&r[t]<=r[n]}function W(e,t,n){for(var r=e.heap[n],a=n<<1;a<=e.heap_len&&(a<e.heap_len&&K(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!K(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r}function Q(e,t,n){var r,a,i,o,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],a=e.pending_buf[e.l_buf+s],s++,0===r?j(e,a,t):(j(e,(i=T[a])+h+1,t),0!==(o=E[i])&&P(e,a-=N[i],o),j(e,i=F(--r),n),0!==(o=z[i])&&P(e,r-=M[i],o))}while(s<e.last_lit);j(e,y,t)}function V(e,t){var n,r,a,i=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=g,n=0;n<l;n++)0!==i[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(a=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[a]=0,e.opt_len--,s&&(e.static_len-=o[2*a+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)W(e,i,n);a=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],W(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*a]=i[2*n]+i[2*r],e.depth[a]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=a,e.heap[1]=a++,W(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,a,i,o,s,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,f=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,m=t.stat_desc.max_length,v=0;for(i=0;i<=_;i++)e.bl_count[i]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<g;n++)(i=l[2*l[2*(r=e.heap[n])+1]+1]+1)>m&&(i=m,v++),l[2*r+1]=i,r>c||(e.bl_count[i]++,o=0,r>=h&&(o=d[r-h]),s=l[2*r],e.opt_len+=s*(i+o),f&&(e.static_len+=s*(u[2*r+1]+o)));if(0!==v){do{for(i=m-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[m]--,v-=2}while(v>0);for(i=m;0!==i;i--)for(r=e.bl_count[i];0!==r;)(a=e.heap[--n])>c||(l[2*a+1]!==i&&(e.opt_len+=(i-l[2*a+1])*l[2*a],l[2*a+1]=i),r--)}}(e,t),G(i,c,e.bl_count)}function $(e,t,n){var r,a,i=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)a=o,o=t[2*(r+1)+1],++s<l&&a===o||(s<c?e.bl_tree[2*a]+=s:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[2*k]++):s<=10?e.bl_tree[2*S]++:e.bl_tree[2*x]++,s=0,i=a,0===o?(l=138,c=3):a===o?(l=6,c=3):(l=7,c=4))}function J(e,t,n){var r,a,i=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),r=0;r<=n;r++)if(a=o,o=t[2*(r+1)+1],!(++s<l&&a===o)){if(s<c)do{j(e,a,e.bl_tree)}while(0!=--s);else 0!==a?(a!==i&&(j(e,a,e.bl_tree),s--),j(e,k,e.bl_tree),P(e,s-3,2)):s<=10?(j(e,S,e.bl_tree),P(e,s-3,3)):(j(e,x,e.bl_tree),P(e,s-11,7));s=0,i=a,0===o?(l=138,c=3):a===o?(l=6,c=3):(l=7,c=4)}}l(M);var ee=!1;function te(e,t,n,a){P(e,(c<<1)+(a?1:0),3),function(e,t,n,a){X(e),a&&(Z(e,n),Z(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){ee||(!function(){var e,t,n,r,a,i=new Array(_+1);for(n=0,r=0;r<d-1;r++)for(N[r]=n,e=0;e<1<<E[r];e++)T[n++]=r;for(T[n-1]=r,a=0,r=0;r<16;r++)for(M[r]=a,e=0;e<1<<z[r];e++)C[a++]=r;for(a>>=7;r<v;r++)for(M[r]=a<<7,e=0;e<1<<z[r]-7;e++)C[256+a++]=r;for(t=0;t<=_;t++)i[t]=0;for(e=0;e<=143;)A[2*e+1]=8,e++,i[8]++;for(;e<=255;)A[2*e+1]=9,e++,i[9]++;for(;e<=279;)A[2*e+1]=7,e++,i[7]++;for(;e<=287;)A[2*e+1]=8,e++,i[8]++;for(G(A,m+1,i),e=0;e<v;e++)L[2*e+1]=5,L[2*e]=H(e,5);U=new q(A,E,h+1,m,_),R=new q(L,z,0,v,_),O=new q(new Array(0),I,0,p,b)}(),ee=!0),e.l_desc=new D(e.dyn_ltree,U),e.d_desc=new D(e.dyn_dtree,R),e.bl_desc=new D(e.bl_tree,O),e.bi_buf=0,e.bi_valid=0,Y(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,n,r){var l,c,d=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return o;for(t=32;t<h;t++)if(0!==e.dyn_ltree[2*t])return o;return i}(e)),V(e,e.l_desc),V(e,e.d_desc),d=function(e){var t;for($(e,e.dyn_ltree,e.l_desc.max_code),$(e,e.dyn_dtree,e.d_desc.max_code),V(e,e.bl_desc),t=p-1;t>=3&&0===e.bl_tree[2*B[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),l=e.opt_len+3+7>>>3,(c=e.static_len+3+7>>>3)<=l&&(l=c)):l=c=n+5,n+4<=l&&-1!==t?te(e,t,n,r):e.strategy===a||c===l?(P(e,(u<<1)+(r?1:0),3),Q(e,A,L)):(P(e,(f<<1)+(r?1:0),3),function(e,t,n,r){var a;for(P(e,t-257,5),P(e,n-1,5),P(e,r-4,4),a=0;a<r;a++)P(e,e.bl_tree[2*B[a]+1],3);J(e,e.dyn_ltree,t-1),J(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,d+1),Q(e,e.dyn_ltree,e.dyn_dtree)),Y(e),r&&X(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(T[n]+h+1)]++,e.dyn_dtree[2*F(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){P(e,u<<1,3),j(e,y,A),function(e){16===e.bi_valid?(Z(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var r=n(26),a=n(0),i=n(9),o=n(11),s=n(3),l=n(10),c=n(29),u=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw new Error(s[n]);if(this.header=new c,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=i.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==o.Z_OK))throw new Error(s[n])}function d(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}f.prototype.push=function(e,t){var n,s,l,c,f,d=this.strm,h=this.options.chunkSize,m=this.options.dictionary,v=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?d.input=i.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new a.Buf8(h),d.next_out=0,d.avail_out=h),(n=r.inflate(d,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&m&&(n=r.inflateSetDictionary(this.strm,m)),n===o.Z_BUF_ERROR&&!0===v&&(n=o.Z_OK,v=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==o.Z_STREAM_END&&(0!==d.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=i.utf8border(d.output,d.next_out),c=d.next_out-l,f=i.buf2string(d.output,l),d.next_out=c,d.avail_out=h-c,c&&a.arraySet(d.output,d.output,l,c,0),this.onData(f)):this.onData(a.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(v=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),d.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=f,t.inflate=d,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},t.ungzip=d},function(e,t,n){"use strict";var r=n(0),a=n(7),i=n(8),o=n(27),s=n(28),l=0,c=1,u=2,f=4,d=5,h=6,m=0,v=1,p=2,g=-2,_=-3,w=-4,b=-5,y=8,k=1,S=2,x=3,E=4,z=5,I=6,B=7,A=8,L=9,C=10,T=11,N=12,U=13,R=14,O=15,M=16,q=17,D=18,F=19,Z=20,P=21,j=22,H=23,G=24,Y=25,X=26,K=27,W=28,Q=29,V=30,$=31,J=32,ee=852,te=592,ne=15;function re(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function ae(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ie(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=k,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(ee),t.distcode=t.distdyn=new r.Buf32(te),t.sane=1,t.back=-1,m):g}function oe(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,ie(e)):g}function se(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?g:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,oe(e))):g}function le(e,t){var n,r;return e?(r=new ae,e.state=r,r.window=null,(n=se(e,t))!==m&&(e.state=null),n):g}var ce,ue,fe=!0;function de(e){if(fe){var t;for(ce=new r.Buf32(512),ue=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(c,e.lens,0,288,ce,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(u,e.lens,0,32,ue,0,e.work,{bits:5}),fe=!1}e.lencode=ce,e.lenbits=9,e.distcode=ue,e.distbits=5}function he(e,t,n,a){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),a>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>a&&(i=a),r.arraySet(o.window,t,n-a,i,o.wnext),(a-=i)?(r.arraySet(o.window,t,n-a,a,0),o.wnext=a,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}t.inflateReset=oe,t.inflateReset2=se,t.inflateResetKeep=ie,t.inflateInit=function(e){return le(e,ne)},t.inflateInit2=le,t.inflate=function(e,t){var n,ee,te,ne,ae,ie,oe,se,le,ce,ue,fe,me,ve,pe,ge,_e,we,be,ye,ke,Se,xe,Ee,ze=0,Ie=new r.Buf8(4),Be=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return g;(n=e.state).mode===N&&(n.mode=U),ae=e.next_out,te=e.output,oe=e.avail_out,ne=e.next_in,ee=e.input,ie=e.avail_in,se=n.hold,le=n.bits,ce=ie,ue=oe,Se=m;e:for(;;)switch(n.mode){case k:if(0===n.wrap){n.mode=U;break}for(;le<16;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(2&n.wrap&&35615===se){n.check=0,Ie[0]=255&se,Ie[1]=se>>>8&255,n.check=i(n.check,Ie,2,0),se=0,le=0,n.mode=S;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&se)<<8)+(se>>8))%31){e.msg="incorrect header check",n.mode=V;break}if((15&se)!==y){e.msg="unknown compression method",n.mode=V;break}if(le-=4,ke=8+(15&(se>>>=4)),0===n.wbits)n.wbits=ke;else if(ke>n.wbits){e.msg="invalid window size",n.mode=V;break}n.dmax=1<<ke,e.adler=n.check=1,n.mode=512&se?C:N,se=0,le=0;break;case S:for(;le<16;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(n.flags=se,(255&n.flags)!==y){e.msg="unknown compression method",n.mode=V;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=V;break}n.head&&(n.head.text=se>>8&1),512&n.flags&&(Ie[0]=255&se,Ie[1]=se>>>8&255,n.check=i(n.check,Ie,2,0)),se=0,le=0,n.mode=x;case x:for(;le<32;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}n.head&&(n.head.time=se),512&n.flags&&(Ie[0]=255&se,Ie[1]=se>>>8&255,Ie[2]=se>>>16&255,Ie[3]=se>>>24&255,n.check=i(n.check,Ie,4,0)),se=0,le=0,n.mode=E;case E:for(;le<16;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}n.head&&(n.head.xflags=255&se,n.head.os=se>>8),512&n.flags&&(Ie[0]=255&se,Ie[1]=se>>>8&255,n.check=i(n.check,Ie,2,0)),se=0,le=0,n.mode=z;case z:if(1024&n.flags){for(;le<16;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}n.length=se,n.head&&(n.head.extra_len=se),512&n.flags&&(Ie[0]=255&se,Ie[1]=se>>>8&255,n.check=i(n.check,Ie,2,0)),se=0,le=0}else n.head&&(n.head.extra=null);n.mode=I;case I:if(1024&n.flags&&((fe=n.length)>ie&&(fe=ie),fe&&(n.head&&(ke=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,ee,ne,fe,ke)),512&n.flags&&(n.check=i(n.check,ee,fe,ne)),ie-=fe,ne+=fe,n.length-=fe),n.length))break e;n.length=0,n.mode=B;case B:if(2048&n.flags){if(0===ie)break e;fe=0;do{ke=ee[ne+fe++],n.head&&ke&&n.length<65536&&(n.head.name+=String.fromCharCode(ke))}while(ke&&fe<ie);if(512&n.flags&&(n.check=i(n.check,ee,fe,ne)),ie-=fe,ne+=fe,ke)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=A;case A:if(4096&n.flags){if(0===ie)break e;fe=0;do{ke=ee[ne+fe++],n.head&&ke&&n.length<65536&&(n.head.comment+=String.fromCharCode(ke))}while(ke&&fe<ie);if(512&n.flags&&(n.check=i(n.check,ee,fe,ne)),ie-=fe,ne+=fe,ke)break e}else n.head&&(n.head.comment=null);n.mode=L;case L:if(512&n.flags){for(;le<16;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(se!==(65535&n.check)){e.msg="header crc mismatch",n.mode=V;break}se=0,le=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=N;break;case C:for(;le<32;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}e.adler=n.check=re(se),se=0,le=0,n.mode=T;case T:if(0===n.havedict)return e.next_out=ae,e.avail_out=oe,e.next_in=ne,e.avail_in=ie,n.hold=se,n.bits=le,p;e.adler=n.check=1,n.mode=N;case N:if(t===d||t===h)break e;case U:if(n.last){se>>>=7&le,le-=7&le,n.mode=K;break}for(;le<3;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}switch(n.last=1&se,le-=1,3&(se>>>=1)){case 0:n.mode=R;break;case 1:if(de(n),n.mode=Z,t===h){se>>>=2,le-=2;break e}break;case 2:n.mode=q;break;case 3:e.msg="invalid block type",n.mode=V}se>>>=2,le-=2;break;case R:for(se>>>=7&le,le-=7&le;le<32;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if((65535&se)!=(se>>>16^65535)){e.msg="invalid stored block lengths",n.mode=V;break}if(n.length=65535&se,se=0,le=0,n.mode=O,t===h)break e;case O:n.mode=M;case M:if(fe=n.length){if(fe>ie&&(fe=ie),fe>oe&&(fe=oe),0===fe)break e;r.arraySet(te,ee,ne,fe,ae),ie-=fe,ne+=fe,oe-=fe,ae+=fe,n.length-=fe;break}n.mode=N;break;case q:for(;le<14;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(n.nlen=257+(31&se),se>>>=5,le-=5,n.ndist=1+(31&se),se>>>=5,le-=5,n.ncode=4+(15&se),se>>>=4,le-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=V;break}n.have=0,n.mode=D;case D:for(;n.have<n.ncode;){for(;le<3;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}n.lens[Be[n.have++]]=7&se,se>>>=3,le-=3}for(;n.have<19;)n.lens[Be[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,xe={bits:n.lenbits},Se=s(l,n.lens,0,19,n.lencode,0,n.work,xe),n.lenbits=xe.bits,Se){e.msg="invalid code lengths set",n.mode=V;break}n.have=0,n.mode=F;case F:for(;n.have<n.nlen+n.ndist;){for(;ge=(ze=n.lencode[se&(1<<n.lenbits)-1])>>>16&255,_e=65535&ze,!((pe=ze>>>24)<=le);){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(_e<16)se>>>=pe,le-=pe,n.lens[n.have++]=_e;else{if(16===_e){for(Ee=pe+2;le<Ee;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(se>>>=pe,le-=pe,0===n.have){e.msg="invalid bit length repeat",n.mode=V;break}ke=n.lens[n.have-1],fe=3+(3&se),se>>>=2,le-=2}else if(17===_e){for(Ee=pe+3;le<Ee;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}le-=pe,ke=0,fe=3+(7&(se>>>=pe)),se>>>=3,le-=3}else{for(Ee=pe+7;le<Ee;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}le-=pe,ke=0,fe=11+(127&(se>>>=pe)),se>>>=7,le-=7}if(n.have+fe>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=V;break}for(;fe--;)n.lens[n.have++]=ke}}if(n.mode===V)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=V;break}if(n.lenbits=9,xe={bits:n.lenbits},Se=s(c,n.lens,0,n.nlen,n.lencode,0,n.work,xe),n.lenbits=xe.bits,Se){e.msg="invalid literal/lengths set",n.mode=V;break}if(n.distbits=6,n.distcode=n.distdyn,xe={bits:n.distbits},Se=s(u,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,xe),n.distbits=xe.bits,Se){e.msg="invalid distances set",n.mode=V;break}if(n.mode=Z,t===h)break e;case Z:n.mode=P;case P:if(ie>=6&&oe>=258){e.next_out=ae,e.avail_out=oe,e.next_in=ne,e.avail_in=ie,n.hold=se,n.bits=le,o(e,ue),ae=e.next_out,te=e.output,oe=e.avail_out,ne=e.next_in,ee=e.input,ie=e.avail_in,se=n.hold,le=n.bits,n.mode===N&&(n.back=-1);break}for(n.back=0;ge=(ze=n.lencode[se&(1<<n.lenbits)-1])>>>16&255,_e=65535&ze,!((pe=ze>>>24)<=le);){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(ge&&0==(240&ge)){for(we=pe,be=ge,ye=_e;ge=(ze=n.lencode[ye+((se&(1<<we+be)-1)>>we)])>>>16&255,_e=65535&ze,!(we+(pe=ze>>>24)<=le);){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}se>>>=we,le-=we,n.back+=we}if(se>>>=pe,le-=pe,n.back+=pe,n.length=_e,0===ge){n.mode=X;break}if(32&ge){n.back=-1,n.mode=N;break}if(64&ge){e.msg="invalid literal/length code",n.mode=V;break}n.extra=15&ge,n.mode=j;case j:if(n.extra){for(Ee=n.extra;le<Ee;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}n.length+=se&(1<<n.extra)-1,se>>>=n.extra,le-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=H;case H:for(;ge=(ze=n.distcode[se&(1<<n.distbits)-1])>>>16&255,_e=65535&ze,!((pe=ze>>>24)<=le);){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(0==(240&ge)){for(we=pe,be=ge,ye=_e;ge=(ze=n.distcode[ye+((se&(1<<we+be)-1)>>we)])>>>16&255,_e=65535&ze,!(we+(pe=ze>>>24)<=le);){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}se>>>=we,le-=we,n.back+=we}if(se>>>=pe,le-=pe,n.back+=pe,64&ge){e.msg="invalid distance code",n.mode=V;break}n.offset=_e,n.extra=15&ge,n.mode=G;case G:if(n.extra){for(Ee=n.extra;le<Ee;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}n.offset+=se&(1<<n.extra)-1,se>>>=n.extra,le-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=V;break}n.mode=Y;case Y:if(0===oe)break e;if(fe=ue-oe,n.offset>fe){if((fe=n.offset-fe)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=V;break}fe>n.wnext?(fe-=n.wnext,me=n.wsize-fe):me=n.wnext-fe,fe>n.length&&(fe=n.length),ve=n.window}else ve=te,me=ae-n.offset,fe=n.length;fe>oe&&(fe=oe),oe-=fe,n.length-=fe;do{te[ae++]=ve[me++]}while(--fe);0===n.length&&(n.mode=P);break;case X:if(0===oe)break e;te[ae++]=n.length,oe--,n.mode=P;break;case K:if(n.wrap){for(;le<32;){if(0===ie)break e;ie--,se|=ee[ne++]<<le,le+=8}if(ue-=oe,e.total_out+=ue,n.total+=ue,ue&&(e.adler=n.check=n.flags?i(n.check,te,ue,ae-ue):a(n.check,te,ue,ae-ue)),ue=oe,(n.flags?se:re(se))!==n.check){e.msg="incorrect data check",n.mode=V;break}se=0,le=0}n.mode=W;case W:if(n.wrap&&n.flags){for(;le<32;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(se!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=V;break}se=0,le=0}n.mode=Q;case Q:Se=v;break e;case V:Se=_;break e;case $:return w;case J:default:return g}return e.next_out=ae,e.avail_out=oe,e.next_in=ne,e.avail_in=ie,n.hold=se,n.bits=le,(n.wsize||ue!==e.avail_out&&n.mode<V&&(n.mode<K||t!==f))&&he(e,e.output,e.next_out,ue-e.avail_out)?(n.mode=$,w):(ce-=e.avail_in,ue-=e.avail_out,e.total_in+=ce,e.total_out+=ue,n.total+=ue,n.wrap&&ue&&(e.adler=n.check=n.flags?i(n.check,te,ue,e.next_out-ue):a(n.check,te,ue,e.next_out-ue)),e.data_type=n.bits+(n.last?64:0)+(n.mode===N?128:0)+(n.mode===Z||n.mode===O?256:0),(0===ce&&0===ue||t===f)&&Se===m&&(Se=b),Se)},t.inflateEnd=function(e){if(!e||!e.state)return g;var t=e.state;return t.window&&(t.window=null),e.state=null,m},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?g:(n.head=t,t.done=!1,m):g},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&n.mode!==T?g:n.mode===T&&a(1,t,r,0)!==n.check?_:he(e,t,r,r)?(n.mode=$,w):(n.havedict=1,m):g},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,a,i,o,s,l,c,u,f,d,h,m,v,p,g,_,w,b,y,k,S,x,E,z;n=e.state,r=e.next_in,E=e.input,a=r+(e.avail_in-5),i=e.next_out,z=e.output,o=i-(t-e.avail_out),s=i+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,f=n.wnext,d=n.window,h=n.hold,m=n.bits,v=n.lencode,p=n.distcode,g=(1<<n.lenbits)-1,_=(1<<n.distbits)-1;e:do{m<15&&(h+=E[r++]<<m,m+=8,h+=E[r++]<<m,m+=8),w=v[h&g];t:for(;;){if(h>>>=b=w>>>24,m-=b,0===(b=w>>>16&255))z[i++]=65535&w;else{if(!(16&b)){if(0==(64&b)){w=v[(65535&w)+(h&(1<<b)-1)];continue t}if(32&b){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}y=65535&w,(b&=15)&&(m<b&&(h+=E[r++]<<m,m+=8),y+=h&(1<<b)-1,h>>>=b,m-=b),m<15&&(h+=E[r++]<<m,m+=8,h+=E[r++]<<m,m+=8),w=p[h&_];n:for(;;){if(h>>>=b=w>>>24,m-=b,!(16&(b=w>>>16&255))){if(0==(64&b)){w=p[(65535&w)+(h&(1<<b)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(k=65535&w,m<(b&=15)&&(h+=E[r++]<<m,(m+=8)<b&&(h+=E[r++]<<m,m+=8)),(k+=h&(1<<b)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=b,m-=b,k>(b=i-o)){if((b=k-b)>u&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(S=0,x=d,0===f){if(S+=c-b,b<y){y-=b;do{z[i++]=d[S++]}while(--b);S=i-k,x=z}}else if(f<b){if(S+=c+f-b,(b-=f)<y){y-=b;do{z[i++]=d[S++]}while(--b);if(S=0,f<y){y-=b=f;do{z[i++]=d[S++]}while(--b);S=i-k,x=z}}}else if(S+=f-b,b<y){y-=b;do{z[i++]=d[S++]}while(--b);S=i-k,x=z}for(;y>2;)z[i++]=x[S++],z[i++]=x[S++],z[i++]=x[S++],y-=3;y&&(z[i++]=x[S++],y>1&&(z[i++]=x[S++]))}else{S=i-k;do{z[i++]=z[S++],z[i++]=z[S++],z[i++]=z[S++],y-=3}while(y>2);y&&(z[i++]=z[S++],y>1&&(z[i++]=z[S++]))}break}}break}}while(r<a&&i<s);r-=y=m>>3,h&=(1<<(m-=y<<3))-1,e.next_in=r,e.next_out=i,e.avail_in=r<a?a-r+5:5-(r-a),e.avail_out=i<s?s-i+257:257-(i-s),n.hold=h,n.bits=m}},function(e,t,n){"use strict";var r=n(0),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,c,u,f,d){var h,m,v,p,g,_,w,b,y,k=d.bits,S=0,x=0,E=0,z=0,I=0,B=0,A=0,L=0,C=0,T=0,N=null,U=0,R=new r.Buf16(16),O=new r.Buf16(16),M=null,q=0;for(S=0;S<=15;S++)R[S]=0;for(x=0;x<l;x++)R[t[n+x]]++;for(I=k,z=15;z>=1&&0===R[z];z--);if(I>z&&(I=z),0===z)return c[u++]=20971520,c[u++]=20971520,d.bits=1,0;for(E=1;E<z&&0===R[E];E++);for(I<E&&(I=E),L=1,S=1;S<=15;S++)if(L<<=1,(L-=R[S])<0)return-1;if(L>0&&(0===e||1!==z))return-1;for(O[1]=0,S=1;S<15;S++)O[S+1]=O[S]+R[S];for(x=0;x<l;x++)0!==t[n+x]&&(f[O[t[n+x]]++]=x);if(0===e?(N=M=f,_=19):1===e?(N=a,U-=257,M=i,q-=257,_=256):(N=o,M=s,_=-1),T=0,x=0,S=E,g=u,B=I,A=0,v=-1,p=(C=1<<I)-1,1===e&&C>852||2===e&&C>592)return 1;for(;;){w=S-A,f[x]<_?(b=0,y=f[x]):f[x]>_?(b=M[q+f[x]],y=N[U+f[x]]):(b=96,y=0),h=1<<S-A,E=m=1<<B;do{c[g+(T>>A)+(m-=h)]=w<<24|b<<16|y|0}while(0!==m);for(h=1<<S-1;T&h;)h>>=1;if(0!==h?(T&=h-1,T+=h):T=0,x++,0==--R[S]){if(S===z)break;S=t[n+f[x]]}if(S>I&&(T&p)!==v){for(0===A&&(A=I),g+=E,L=1<<(B=S-A);B+A<z&&!((L-=R[B+A])<=0);)B++,L<<=1;if(C+=1<<B,1===e&&C>852||2===e&&C>592)return 1;c[v=T&p]=I<<24|B<<16|g-u|0}}return 0!==T&&(c[g+T]=S-A<<24|64<<16|0),d.bits=I,0}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t){LZWEncoder=function(){var e,t,n,r,a,i,o,s,l,c,u,f,d={},h=-1,m=12,v=5003,p=m,g=1<<m,_=[],w=[],b=v,y=0,k=!1,S=0,x=0,E=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],z=[],I=d.LZWEncoder=function(a,i,o,s){e=a,t=i,n=o,r=Math.max(2,s)},B=function(e,t){z[f++]=e,f>=254&&T(t)},A=function(e){L(b),y=c+2,k=!0,R(c,e)},L=function(e){for(var t=0;t<e;++t)_[t]=-1},C=d.compress=function(e,t){var n,r,a,i,d,m,v;for(k=!1,s=N(o=l=e),u=(c=1<<e-1)+1,y=c+2,f=0,i=U(),v=0,n=b;n<65536;n*=2)++v;v=8-v,L(m=b),R(c,t);e:for(;(a=U())!=h;)if(n=(a<<p)+i,_[r=a<<v^i]!=n){if(_[r]>=0){d=m-r,0===r&&(d=1);do{if((r-=d)<0&&(r+=m),_[r]==n){i=w[r];continue e}}while(_[r]>=0)}R(i,t),i=a,y<g?(w[r]=y++,_[r]=n):A(t)}else i=w[r];R(i,t),R(u,t)},T=(d.encode=function(n){n.writeByte(r),a=e*t,i=0,C(r+1,n),n.writeByte(0)},function(e){f>0&&(e.writeByte(f),e.writeBytes(z,0,f),f=0)}),N=function(e){return(1<<e)-1},U=function(){return 0===a?h:(--a,255&n[i++])},R=function(e,t){for(S&=E[x],x>0?S|=e<<x:S=e,x+=o;x>=8;)B(255&S,t),S>>=8,x-=8;if((y>s||k)&&(k?(s=N(o=l),k=!1):(++o,s=o==p?g:N(o))),e==u){for(;x>0;)B(255&S,t),S>>=8,x-=8;T(t)}};return I.apply(this,arguments),d}},function(e,t){NeuQuant=function(){var e,t,n,r,a,i={},o=256,s=499,l=491,c=487,u=503,f=3*u,d=o-1,h=4,m=100,v=16,p=1<<v,g=10,_=10,w=p>>_,b=p<<g-_,y=o>>3,k=6,S=1<<k,x=y*S,E=30,z=10,I=1<<z,B=8,A=1<<B,L=z+B,C=1<<L,T=[],N=[],U=[],R=[],O=i.NeuQuant=function(e,i,s){var l,c;for(t=e,n=i,r=s,a=new Array(o),l=0;l<o;l++)a[l]=new Array(4),(c=a[l])[0]=c[1]=c[2]=(l<<h+8)/o,U[l]=p/o,N[l]=0},M=function(){for(var e=[],t=new Array(o),n=0;n<o;n++)t[a[n][3]]=n;for(var r=0,i=0;i<o;i++){var s=t[i];e[r++]=a[s][0],e[r++]=a[s][1],e[r++]=a[s][2]}return e},q=function(){var e,t,n,r,i,s,l,c;for(l=0,c=0,e=0;e<o;e++){for(n=e,r=(i=a[e])[1],t=e+1;t<o;t++)(s=a[t])[1]<r&&(n=t,r=s[1]);if(s=a[n],e!=n&&(t=s[0],s[0]=i[0],i[0]=t,t=s[1],s[1]=i[1],i[1]=t,t=s[2],s[2]=i[2],i[2]=t,t=s[3],s[3]=i[3],i[3]=t),r!=l){for(T[l]=c+e>>1,t=l+1;t<r;t++)T[t]=e;l=r,c=e}}for(T[l]=c+d>>1,t=l+1;t<256;t++)T[t]=d},D=function(){var a,i,o,d,v,p,g,_,w,b,y,S,z,B;for(n<f&&(r=1),e=30+(r-1)/3,S=t,z=0,B=n,b=(y=n/(3*r))/m|0,_=I,(g=(p=x)>>k)<=1&&(g=0),a=0;a<g;a++)R[a]=_*((g*g-a*a)*A/(g*g));for(w=n<f?3:n%s!=0?3*s:n%l!=0?3*l:n%c!=0?3*c:3*u,a=0;a<y;)if(o=(255&S[z+0])<<h,d=(255&S[z+1])<<h,v=(255&S[z+2])<<h,i=j(o,d,v),P(_,i,o,d,v),0!==g&&Z(g,i,o,d,v),(z+=w)>=B&&(z-=n),0===b&&(b=1),++a%b==0)for(_-=_/e,(g=(p-=p/E)>>k)<=1&&(g=0),i=0;i<g;i++)R[i]=_*((g*g-i*i)*A/(g*g))},F=(i.map=function(e,t,n){var r,i,s,l,c,u,f;for(c=1e3,f=-1,i=(r=T[t])-1;r<o||i>=0;)r<o&&((s=(u=a[r])[1]-t)>=c?r=o:(r++,s<0&&(s=-s),(l=u[0]-e)<0&&(l=-l),(s+=l)<c&&((l=u[2]-n)<0&&(l=-l),(s+=l)<c&&(c=s,f=u[3])))),i>=0&&((s=t-(u=a[i])[1])>=c?i=-1:(i--,s<0&&(s=-s),(l=u[0]-e)<0&&(l=-l),(s+=l)<c&&((l=u[2]-n)<0&&(l=-l),(s+=l)<c&&(c=s,f=u[3]))));return f},i.process=function(){return D(),F(),q(),M()},function(){var e;for(e=0;e<o;e++)a[e][0]>>=h,a[e][1]>>=h,a[e][2]>>=h,a[e][3]=e}),Z=function(e,t,n,r,i){var s,l,c,u,f,d,h;for((c=t-e)<-1&&(c=-1),(u=t+e)>o&&(u=o),s=t+1,l=t-1,d=1;s<u||l>c;){if(f=R[d++],s<u){h=a[s++];try{h[0]-=f*(h[0]-n)/C,h[1]-=f*(h[1]-r)/C,h[2]-=f*(h[2]-i)/C}catch(e){}}if(l>c){h=a[l--];try{h[0]-=f*(h[0]-n)/C,h[1]-=f*(h[1]-r)/C,h[2]-=f*(h[2]-i)/C}catch(e){}}}},P=function(e,t,n,r,i){var o=a[t];o[0]-=e*(o[0]-n)/I,o[1]-=e*(o[1]-r)/I,o[2]-=e*(o[2]-i)/I},j=function(e,t,n){var r,i,s,l,c,u,f,d,m,p;for(m=d=~(1<<31),f=u=-1,r=0;r<o;r++)(i=(p=a[r])[0]-e)<0&&(i=-i),(s=p[1]-t)<0&&(s=-s),i+=s,(s=p[2]-n)<0&&(s=-s),(i+=s)<d&&(d=i,u=r),(l=i-(N[r]>>v-h))<m&&(m=l,f=r),c=U[r]>>_,U[r]-=c,N[r]+=c<<g;return U[u]+=w,N[u]-=b,f};return O.apply(this,arguments),i}},function(e,t){GIFEncoder=function(){for(var e=0,t={};e<256;e++)t[e]=String.fromCharCode(e);function n(){this.bin=[]}n.prototype.getData=function(){for(var e="",n=this.bin.length,r=0;r<n;r++)e+=t[this.bin[r]];return e},n.prototype.writeByte=function(e){this.bin.push(e)},n.prototype.writeUTFBytes=function(e){for(var t=e.length,n=0;n<t;n++)this.writeByte(e.charCodeAt(n))},n.prototype.writeBytes=function(e,t,n){for(var r=n||e.length,a=t||0;a<r;a++)this.writeByte(e[a])};var r,a,i,o,s,l,c,u,f,d={},h=null,m=-1,v=0,p=!1,g=[],_=7,w=-1,b=!1,y=!0,k=!1,S=10,x="Generated by jsgif (https://github.com/antimatter15/jsgif/)",E=(d.setDelay=function(e){v=Math.round(e/10)},d.setDispose=function(e){e>=0&&(w=e)},d.setRepeat=function(e){e>=0&&(m=e)},d.setTransparent=function(e){h=e},d.setComment=function(e){x=e},d.addFrame=function(e,t){if(null===e||!p||null===o)throw new Error("Please call start method before calling addFrame");var n=!0;try{t?e instanceof ImageData?(s=e.data,sizeset&&r==e.width&&a==e.height||z(e.width,e.height)):e instanceof Uint8ClampedArray?e.length==r*a*4?s=e:(console.log("Please set the correct size: ImageData length mismatch"),n=!1):(console.log("Please provide correct input"),n=!1):(s=e.getImageData(0,0,e.canvas.width,e.canvas.height).data,k||z(e.canvas.width,e.canvas.height)),A(),I(),y&&(N(),R(),m>=0&&U()),L(),""!==x&&C(),T(),y||R(),M(),y=!1}catch(e){n=!1}return n},d.download=function(e){if(null===o||0==b)console.log("Please call start method and add frames and call finish method before calling download");else{e=void 0!==e?e.endsWith(".gif")?e:e+".gif":"download.gif";var t=document.createElement("a");t.download=e,t.href=URL.createObjectURL(new Blob([new Uint8Array(o.bin)],{type:"image/gif"})),t.click()}},d.finish=function(){if(!p)return!1;var e=!0;p=!1;try{o.writeByte(59),b=!0}catch(t){e=!1}return e},function(){i=0,s=null,l=null,c=null,f=null,b=!1,y=!0}),z=(d.setFrameRate=function(e){15!=e&&(v=Math.round(100/e))},d.setQuality=function(e){e<1&&(e=1),S=e},d.setSize=function(e,t){p&&!y||((r=e)<1&&(r=320),(a=t)<1&&(a=240),k=!0)}),I=(d.start=function(){E();var e=!0;b=!1,o=new n;try{o.writeUTFBytes("GIF89a")}catch(t){e=!1}return p=e},d.cont=function(){E();return b=!1,o=new n,p=!0},function(){var e=l.length,t=e/3;c=[];var n=new NeuQuant(l,e,S);f=n.process();for(var r=0,a=0;a<t;a++){var o=n.map(255&l[r++],255&l[r++],255&l[r++]);g[o]=!0,c[a]=o}l=null,u=8,_=7,null!==h&&(i=B(h))}),B=function(e){if(null===f)return-1;for(var t=(16711680&e)>>16,n=(65280&e)>>8,r=255&e,a=0,i=16777216,o=f.length,s=0;s<o;){var l=t-(255&f[s++]),c=n-(255&f[s++]),u=r-(255&f[s]),d=l*l+c*c+u*u,h=s/3;g[h]&&d<i&&(i=d,a=h),s++}return a},A=function(){var e=r,t=a;l=[];for(var n=s,i=0,o=0;o<t;o++)for(var c=0;c<e;c++){var u=o*e*4+4*c;l[i++]=n[u],l[i++]=n[u+1],l[i++]=n[u+2]}},L=function(){var e,t;o.writeByte(33),o.writeByte(249),o.writeByte(4),null===h?(e=0,t=0):(e=1,t=2),w>=0&&(t=7&w),t<<=2,o.writeByte(0|t|e),O(v),o.writeByte(i),o.writeByte(0)},C=function(){o.writeByte(33),o.writeByte(254),o.writeByte(x.length),o.writeUTFBytes(x),o.writeByte(0)},T=function(){o.writeByte(44),O(0),O(0),O(r),O(a),y?o.writeByte(0):o.writeByte(128|_)},N=function(){O(r),O(a),o.writeByte(240|_),o.writeByte(0),o.writeByte(0)},U=function(){o.writeByte(33),o.writeByte(255),o.writeByte(11),o.writeUTFBytes("NETSCAPE2.0"),o.writeByte(3),o.writeByte(1),O(m),o.writeByte(0)},R=function(){o.writeBytes(f);for(var e=768-f.length,t=0;t<e;t++)o.writeByte(0)},O=function(e){o.writeByte(255&e),o.writeByte(e>>8&255)},M=function(){new LZWEncoder(r,a,c,u).encode(o)};d.stream=function(){return o},d.setProperties=function(e,t){p=e,y=t};return d}},function(e,t,n){"use strict";n.r(t);var r=n(4),a=n.n(r),i=(n(15),document.getElementById("primary")),o=document.getElementById("secondary");i.value=localStorage.getItem("primaryColor"),secondary.value=localStorage.getItem("secondaryColor"),localStorage.getItem("primaryColor")||localStorage.setItem("primaryColor",i.value),localStorage.getItem("secondaryColor")||localStorage.setItem("secondaryColor",o.value),i.onchange=function(e){i.value=e.target.value,localStorage.setItem("primaryColor",i.value)},o.onchange=function(e){o.value=e.target.value,localStorage.setItem("secondaryColor",o.value)},document.querySelector(".panel-elements__change-color").addEventListener("click",(function(){i.value=localStorage.getItem("secondaryColor"),o.value=localStorage.getItem("primaryColor"),localStorage.setItem("secondaryColor",o.value),localStorage.setItem("primaryColor",i.value)}));n(17);var s=n(12);document.querySelector(".animation__full-screen").addEventListener("click",(function(){if(("fullscreenEnabled"in document||"webkitFullscreenEnabled"in document||"mozFullScreenEnabled"in document||"msFullscreenEnabled"in document)&&(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)){var e=document.getElementById("canvasAnimation");"requestFullscreen"in e?e.requestFullscreen():"webkitRequestFullscreen"in e?e.webkitRequestFullscreen():"mozRequestFullScreen"in e?e.mozRequestFullScreen():"msRequestFullscreen"in e&&e.msRequestFullscreen()}}));var l=n(13),c=n.n(l),u=n(1),f=n.n(u),d=function(){var e=[];return document.querySelectorAll(".frames__canvas").forEach((function(t){var n=t.getContext("2d").getImageData(0,0,t.width,t.height);e.push(n)})),e},h=function(){var e=document.getElementById("range");return document.querySelector(".animation__current-value").innerHTML=e.value,e.value},m=0,v=null,p=function(e){var t=d();!function(e){var t=document.getElementById("canvasAnimation"),n=t.getContext("2d");t.width=e.width,t.height=e.height,n.putImageData(e,0,0,0,0,t.width,t.height)}(t[m%t.length]),m++},g=function(){var e=h();v&&clearInterval(v),v=setInterval((function(){return p()}),1e3/e)},_=document.querySelector(".animation__save-apng"),w=function(){var e=d(),t=[],n=[];e.forEach((function(e){t.push(e.data.buffer),n.push(e.width)}));var r=n.sort((function(e,t){return e-t}))[n.length-1],a=r,i=r,o=1e3/h(),s=[];s.length=e.length,s.fill(o);var l=c.a.encode(t,a,i,0,s);f()(l,"animation.apng","apng")};_.addEventListener("click",w);n(30),n(31),n(32);var b=document.querySelector(".animation__save-gif"),y=function(){var e=document.querySelectorAll(".frames__canvas"),t=1e3/h(),n=new GIFEncoder;n.setRepeat(0),n.setDelay(t),n.start(),e.forEach((function(e){var t=e.getContext("2d");n.addFrame(t)})),n.finish();var r=n.stream().getData();f()(r,"animation.gif","gif")};b.addEventListener("click",y);var k,S,x,E,z=1,I=4,B=8,A=16,L=32,C=64,T=128,N=function(){var e=function(){var e=localStorage.getItem("activeCanvas"),t=document.getElementById("".concat(e));return t.parentNode.classList.remove("visually-hidden"),t}(),t=e.getContext("2d"),n=localStorage.getItem("canvasSize");"size1"===n?S=L:"size2"===n?S=C:"size3"===n&&(S=T),e.width=S,e.height=S,t.imageSmoothingEnabled=!1,e.onmousedown=function(n){U(n,!1,t,e),x=Math.floor(n.offsetX*e.width/640),E=Math.floor(n.offsetY*e.height/640),e.onmousemove=function(n){U(n,!0,t,e)}},e.onmouseout=function(){document.onmouseup=function(){e.onmousemove=null,g()}},e.onmouseup=function(){e.onmousemove=null,g()}},U=function(e,t,n,r){var a,i=localStorage.getItem("activeButton"),o=localStorage.getItem("penSize");"size1"===o?k=z:"size2"===o?k=I:"size3"===o?k=B:"size4"===o&&(k=A),1===e.which?a=localStorage.getItem("primaryColor"):3===e.which&&(a=localStorage.getItem("secondaryColor")),n.fillStyle=a;var s=Math.floor(e.offsetX*r.width/640),l=Math.floor(e.offsetY*r.height/640),c=Math.abs(s-x),u=Math.abs(l-E),f=x<s?1:-1,d=E<l?1:-1,h=c-u,m=n.getImageData(0,0,r.width,r.height),v=[s,l];for("pen"===i?n.fillRect(s,l,k,k):"bucket"===i?function(e,t,n,r){var a=parseInt(r.slice(1,3),16),i=parseInt(r.slice(3,5),16),o=parseInt(r.slice(5,7),16),s=t.data[4*(n[1]*e.width+n[0])],l=t.data[4*(n[1]*e.width+n[0])+1],c=t.data[4*(n[1]*e.width+n[0])+2],u=function(e){var n=t.data[e],r=t.data[e+1],u=t.data[e+2];return n===s&&r===l&&u===c&&(n!==a||r!==i||u!==o)},f=function(e){t.data[e]=a,t.data[e+1]=i,t.data[e+2]=o,t.data[e+3]=255},d=[];for(d.push(n);d.length;){var h,m,v=void 0,p=void 0,g=void 0,_=void 0;for(m=(h=d.pop())[0],p=4*((v=h[1])*e.width+m);v-- >=0&&u(p);)p-=4*e.width;for(p+=4*e.width,++v,g=!1,_=!1;v++<e.height-1&&u(p);)f(p),m>0&&(u(p-4)?g||(d.push([m-1,v]),g=!0):g&&(g=!1)),m<e.width-1&&(u(p+4)?_||(d.push([m+1,v]),_=!0):_&&(_=!1)),p+=4*e.width}e.getContext("2d").putImageData(t,0,0)}(r,m,v,a):"eraser"===i?n.clearRect(s,l,k,k):"sameColor"===i&&function(e,t,n,r){for(var a=parseInt(r.slice(1,3),16),i=parseInt(r.slice(3,5),16),o=parseInt(r.slice(5,7),16),s=t.data[4*(n[1]*e.width+n[0])],l=t.data[4*(n[1]*e.width+n[0])+1],c=t.data[4*(n[1]*e.width+n[0])+2],u=function(e){var n=t.data[e],r=t.data[e+1],a=t.data[e+2];return n===s&&r===l&&a===c},f=function(e){t.data[e]=a,t.data[e+1]=i,t.data[e+2]=o,t.data[e+3]=255},d=0;d<t.data.length;d+=4)u(d)&&f(d);e.getContext("2d").putImageData(t,0,0)}(r,m,v,a);t&&("pen"===i?n.fillRect(x,E,k,k):"eraser"===i&&n.clearRect(x,E,k,k),x!==s||E!==l);){var p=2*h;p>-u&&(h-=u,x+=f),p<c&&(h+=c,E+=d)}var g,_,w,b,y,S,L=r.id.slice(6);g=m,_=r.width,w=r.height,b=L,y=document.getElementById("canvas-frame-".concat(b)),S=y.getContext("2d"),y.width=_,y.height=w,S.putImageData(g,0,0,0,0,y.width,y.height)},R=document.querySelector(".panel-elements__canvas-size1"),O=document.querySelector(".panel-elements__canvas-size2"),M=document.querySelector(".panel-elements__canvas-size3"),q=document.querySelectorAll(".panel-elements__canvas-size"),D=function(){var e,t=localStorage.getItem("canvasSize");return q.forEach((function(e){e.classList.remove("panel-elements--active")})),"size1"===t?(R.classList.add("panel-elements--active"),e=R):"size2"===t?(O.classList.add("panel-elements--active"),e=O):"size3"===t&&(M.classList.add("panel-elements--active"),e=M),N(),e},F=document.querySelector(".panel-elements__size1"),Z=document.querySelector(".panel-elements__size2"),P=document.querySelector(".panel-elements__size3"),j=document.querySelector(".panel-elements__size4"),H=document.querySelectorAll(".panel-elements__size"),G=function(){var e,t=localStorage.getItem("penSize");return H.forEach((function(e){e.classList.remove("panel-elements--active")})),"size1"===t?(F.classList.add("panel-elements--active"),e=F):"size2"===t?(Z.classList.add("panel-elements--active"),e=Z):"size3"===t?(P.classList.add("panel-elements--active"),e=P):"size4"===t&&(j.classList.add("panel-elements--active"),e=j),e},Y=document.getElementById("pen"),X=document.getElementById("bucket"),K=document.getElementById("eraser"),W=document.getElementById("sameColor"),Q=document.querySelectorAll(".panel-elements__button"),V=function(){var e=localStorage.getItem("activeButton");Q.forEach((function(e){e.classList.remove("panel-elements--active")})),"pen"===e?Y.classList.add("panel-elements--active"):"bucket"===e?X.classList.add("panel-elements--active"):"eraser"===e?K.classList.add("panel-elements--active"):"sameColor"===e&&W.classList.add("panel-elements--active")};R.addEventListener("click",(function(){localStorage.setItem("canvasSize","size1"),D()})),O.addEventListener("click",(function(){localStorage.setItem("canvasSize","size2"),D()})),M.addEventListener("click",(function(){localStorage.setItem("canvasSize","size3"),D()})),F.addEventListener("click",(function(){localStorage.setItem("penSize","size1"),G()})),Z.addEventListener("click",(function(){localStorage.setItem("penSize","size2"),G()})),P.addEventListener("click",(function(){localStorage.setItem("penSize","size3"),G()})),j.addEventListener("click",(function(){localStorage.setItem("penSize","size4"),G()})),Y.addEventListener("click",(function(){localStorage.setItem("activeButton","pen"),V()})),X.addEventListener("click",(function(){localStorage.setItem("activeButton","bucket"),V()})),K.addEventListener("click",(function(){localStorage.setItem("activeButton","eraser"),V()})),W.addEventListener("click",(function(){localStorage.setItem("activeButton","sameColor"),V()}));var $=function(){var e=Array.from(document.querySelectorAll(".canvas__main"));return e.map((function(e){return+e.id.slice(6)})).sort((function(e,t){return e-t}))[e.length-1]},J=function(){var e=document.querySelector(".canvas__list");document.querySelectorAll(".canvas__item").forEach((function(e){e.classList.add("visually-hidden"),e.classList.remove("canvas__item--active")}));var t=document.createElement("li");t.className="canvas__item canvas__item--active",e.append(t);var n=$(),r=document.createElement("canvas");r.className="canvas__main",r.setAttribute("id","canvas".concat(n+1)),t.append(r),localStorage.setItem("activeCanvas","canvas".concat(n+1)),N()},ee=function(e){var t=e.getElementsByTagName("canvas")[0].id.slice(13),n=document.querySelectorAll(".frames__item"),r=document.querySelectorAll(".canvas__item"),a=document.getElementById("canvas".concat(t)).parentElement;n.forEach((function(e){e.classList.remove("frames__item--active")})),r.forEach((function(e){e.classList.remove("canvas__item--active"),e.classList.add("visually-hidden")})),e.classList.add("frames__item--active"),a.classList.remove("visually-hidden"),a.classList.add("canvas__item--active")},te=function(){for(var e=document.querySelectorAll(".frames__number"),t=0;t<e.length;t++)e[t].innerHTML=t+1;g()},ne=function(e){var t=e.getElementsByTagName("canvas")[0].id.slice(13);J(),ae(e.nextSibling),function(e){var t=document.getElementById("canvas".concat(e));localStorage.setItem("canvasCopiedImage",t.toDataURL());var n=$(),r=document.getElementById("canvas".concat(n)),a=r.getContext("2d"),i=document.getElementById("canvas-frame-".concat(n)),o=i.getContext("2d"),s=localStorage.getItem("canvasCopiedImage"),l=new Image;l.src=s,l.onload=function(){a.drawImage(l,0,0,r.width,r.height),o.drawImage(l,0,0,i.width,i.height)}}(t),te()},re=function(e){var t=e.getElementsByTagName("canvas")[0].id.slice(13);e.parentNode.removeChild(e),function(e){var t=document.getElementById("canvas".concat(e)).parentElement;t.parentNode.removeChild(t);var n=document.querySelectorAll(".canvas__item");if(t.classList.contains("canvas__item--active")){var r=n[n.length-1];r.classList.remove("visually-hidden"),r.classList.add("canvas__item--active")}}(t);var n=document.querySelectorAll(".frames__item");if(e.classList.contains("frames__item--active")&&n[n.length-1].classList.add("frames__item--active"),1===n.length){var r=document.querySelector(".frames__delete");r.parentNode.removeChild(r)}te()},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=document.querySelectorAll(".frames__item"),n=document.querySelector(".frames__list");t.forEach((function(e){e.classList.remove("frames__item--active")}));var r=document.createElement("li");r.className="frames__item frames__item--active",e?n.insertBefore(r,e):n.append(r);var a=document.createElement("p");a.className="frames__number",a.innerHTML="".concat(t.length+1),r.append(a);var i=document.createElement("button");i.className="frames__copy",r.append(i),i.addEventListener("click",(function(e){var t=e.target.offsetParent;ne(t)}));var o=document.createElement("button");o.className="frames__delete",o.addEventListener("click",(function(e){var t=e.target.offsetParent;re(t)}));var s=document.querySelectorAll(".frames__item");if(s.length>1){if(2===s.length){var l=o.cloneNode(!0);l.addEventListener("click",(function(e){var t=e.target.offsetParent;re(t)})),s[0].append(l)}r.append(o)}var c=document.createElement("canvas");c.className="frames__canvas";var u=$();c.setAttribute("id","canvas-frame-".concat(u)),c.addEventListener("click",(function(){ee(r)})),r.append(c)};document.addEventListener("keydown",(function(e){var t=e.key;"p"===t?localStorage.setItem("activeButton","pen"):"b"===t?localStorage.setItem("activeButton","bucket"):"a"===t?localStorage.setItem("activeButton","sameColor"):"e"===t&&localStorage.setItem("activeButton","eraser"),V()})),document.addEventListener("keydown",(function(e){var t=e.key,n=document.querySelectorAll(".panel-elements__size"),r=G();if("["===t){for(var a=0;a<n.length;a++)if(n[a]===r){if(0===a)return;localStorage.setItem("penSize","size".concat(a))}}else if("]"===t)for(var i=0;i<n.length;i++)if(n[i]===r){if(i===n.length-1)return;localStorage.setItem("penSize","size".concat(i+2))}G()})),document.addEventListener("keydown",(function(e){var t=e.key,n=document.getElementById("primary"),r=document.getElementById("secondary");"d"===t&&(n.value=localStorage.getItem("secondaryColor"),r.value=localStorage.getItem("primaryColor"),localStorage.setItem("secondaryColor",r.value),localStorage.setItem("primaryColor",n.value))})),document.addEventListener("keydown",(function(e){var t=e.key;if("ArrowLeft"===t){for(var n=document.querySelectorAll(".panel-elements__canvas-size"),r=D(),a=0;a<n.length;a++)if(n[a]===r){if(0===a)return;localStorage.setItem("canvasSize","size".concat(a))}D()}else if("ArrowRight"===t){for(var i=document.querySelectorAll(".panel-elements__canvas-size"),o=D(),s=0;s<i.length;s++)if(i[s]===o){if(s===i.length-1)return;localStorage.setItem("canvasSize","size".concat(s+2))}D()}})),document.addEventListener("keydown",(function(e){var t=e.key;if("n"===t)J(),ae();else if("Delete"===t){var n=document.querySelector(".frames__item--active");if(1===document.querySelectorAll(".frames__item").length)return;re(n)}}));var ie=!1;document.addEventListener("keydown",(function(e){var t=e.key;if("Control"===t&&(ie=!0),ie&&"c"===t){var n=document.querySelector(".frames__item--active");ne(n)}ie&&"s"===t&&(e.preventDefault(),w()),ie&&"g"===t&&(e.preventDefault(),y())})),localStorage.setItem("activeCanvas","canvas1"),s([document.querySelector(".frames__list")]).on("dragend",te),localStorage.getItem("penSize")||localStorage.setItem("penSize","size1"),G(),ae(),localStorage.getItem("canvasSize")||localStorage.setItem("canvasSize","size1"),D(),localStorage.getItem("activeButton")||localStorage.setItem("activeButton","pen"),V(),document.querySelector(".panel-frames__new").addEventListener("click",(function(){J(),ae()})),h(),document.getElementById("range").addEventListener("mousemove",(function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(h());case 2:g();case 3:case"end":return e.stop()}}))}))}]);